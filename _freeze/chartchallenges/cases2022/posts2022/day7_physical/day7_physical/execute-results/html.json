{
  "hash": "c1991ae025cf4fa1a6b2958a4280cfdf",
  "result": {
    "markdown": "---\ntitle: 'Physical'\nsubtitle: 'Welcome to #30DayChartChallenge 2022 day 7'\ndate: '2022-04-07'\nimage: 'day7_physical.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(list=ls())\n\nsetwd(dirname(rstudioapi::getActiveDocumentContext()$path))\n\n\n\n# sources:\n# https://ourworldindata.org/grapher/violence-against-children?country=~OWID_WRL\n\nlibrary(tidyverse)\ndf <- read.csv(\"violence-against-children.csv\",header = T)\n\ndf %>% View()\n\n# quote = \"Proportion.of.children.aged.1-14.years.who.experienced.physical.punishment.and.or.psychological.aggression.by.caregivers\"\n# quote <- gsub(\"\\\\.\",\" \",title)\n\n\nnames(df)[4] <- \"proportion\"\n\ndf1 <- df %>% \n  janitor::clean_names() \n  \ndf1 %>%count(entity)\nlibrary(ggtext)\nlibrary(MetBrewer)\n\n\n# density(df1$proportion)\n\ndf1 %>% \n  filter(!code==\"\") %>%\n  arrange(proportion) %>%\n  ggplot(aes(x=proportion))+\n  geom_density(aes(fill=\"red\"),size=1) + \n  geom_text(aes(x=proportion, \n                y=(seq(8e-03,3.2e-02,0.0003809524)),  # y=(seq(1.613e-05,3.322e-02,0.0005270456)),\n                label=entity,size=rev(proportion)),\n            #position = position_dodge(width=0.1),\n            #position = position_jitter(seed = 123,width = 0.1),\n            position = \"identity\",\n            family=\"Roboto Condensed\",\n            check_overlap = T)+\n  \n  # annotate(\"text\", x = 70, y =-0.001,\n  #          size=3.5,\n  #          family=\"Roboto Condensed\",angle=0,\n  #          color=\"black\",\n  #          label=\"#30DayCharChallenge 2022 day6 - Physical DataSource: ourworldindata.org | DataViz: Federica Gazzelloni\") +\n  # \n  # these values can be retrieved with: density(df1$proportion) + adjustments\n  # summary(df1$proportion)\n  annotate(\"point\", x=41.4,y=4.5e-03,size=3) +\n  annotate(\"point\", x=94.00,y=18e-03,size=3) +\n  \n  annotate(\"text\",x=42.4,y=3e-03,label=\"41.4%\",\n           size=7,\n           family=\"Roboto Condensed\") +\n  annotate(\"text\", x=94.00,y=16e-03,label=\"94%\",\n           size=7,\n           family=\"Roboto Condensed\") +\n  \n  # extra point\n  annotate(\"point\", x=67.80,y=1.83e-02,size=3) +\n  annotate(\"text\", x=67.80,y=2e-02,label=\"67.80%\",\n           size=7,\n           family=\"Roboto Condensed\") +\n\n  annotate(\"point\", x=86.6,y=3.1e-02,size=3) +\n  annotate(\"text\", x=82,y=3.1e-02,label=\"86.6%\",\n           size=7,\n           family=\"Roboto Condensed\") +\n  \n  # annotate(\"text\", x=50,y=3.1e-02,\n  #          label=\":\\n69 Countries around the World\",\n  #          size=7,\n  #          family=\"Roboto Condensed\") +\n  # \n  geom_richtext(aes( x = 70 , y = 0.002),\n                size=8, family=\"Roboto Condensed\",\n                label=\"Protect Me with Love and Care\",\n                fill = NA, label.color = NA) +\n  \n# bounds of the text\n  # annotate(\"point\", x=41.4,y=8e-03) +\n  # annotate(\"point\", x=86.72,y=3.2e-02,color=\"green\") + # (3.2e-02 - 8e-03)/63\n\n  geom_richtext(aes( x = 52 , y = 0.03),\n                size=10, family=\"Roboto Condensed\",\n                fill = NA, label.color = NA,\n                label=\"Violence against children\") +\n  geom_richtext(aes( x = 55 , y = 0.028),\n               size=10, family=\"Roboto Condensed\",\n               label=\"from 2008 to 2020\",\n               fill = NA, label.color = NA) +\n \n  \n  geom_richtext(aes( x = 55 , y = 0.024),\n                size=5, family=\"Roboto Condensed\",\n                label=\"Proportion of children aged 1-14 years<br>who experienced physical punishment<br>and or psychological aggression<br>by caregivers in last month\",\n                fill = NA, label.color = NA)+\n  scale_fill_manual(values=met.brewer(\"Morgenstern\", 6)) +\n  scale_x_continuous(breaks = seq(41.4,94,8.6)) +\n  scale_y_continuous(expand = c(0.001,0.0001)) +\n  labs(caption=\"#30DayCharChallenge 2022 day6 - Physical \\nDataSource: Data from multiple sources compiled by the UN & ourworldindata.org \\n DataViz: Federica Gazzelloni\") +\n  theme_void() +\n  theme(plot.background = element_rect(fill=met.brewer(\"Morgenstern\", 1),\n                                       color=met.brewer(\"Morgenstern\", 1)),\n        panel.background = element_rect(fill=met.brewer(\"Morgenstern\", 1),\n                                        color=met.brewer(\"Morgenstern\", 1),\n                                        size=0),\n        plot.margin = margin(0,0,0,0),\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        # axis.text.x = element_text(color=\"black\",vjust = 0,family=\"Roboto Condensed\"),\n        # axis.text.y = element_blank(),\n        # axis.ticks.x = element_line(size=2),\n        # axis.line.x = element_line(size=1,\n        #                            arrow = arrow(type='closed', length = unit(5,'pt'))),\n        # axis.ticks.y = element_blank(),\n        # axis.title.y = element_blank(),\n        # axis.title.x = element_blank(),\n        plot.caption = element_text(size = 9,\n                                    family=\"Roboto Condensed\",hjust = 0.5),\n        plot.caption.position = \"panel\",\n        legend.position = \"none\") \n\n\nggsave(\"day7_physical3.png\",\n       width = 9,\n      height =  8,\n       dpi = 320)\n\n\ndev.off()\n\ndf1 %>% count(year)\n  filter(!code==\"\") %>%\n  ggplot(aes(x=factor(year),y=entity))+\n  geom_hex(aes(fill=entity)) +\n  theme(legend.position = \"none\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}