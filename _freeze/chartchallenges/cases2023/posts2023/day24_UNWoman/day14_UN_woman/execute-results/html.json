{
  "hash": "5b021a04a54b79e1801af989cb7525a5",
  "result": {
    "markdown": "---\ntitle: \"#30DayChartChallenge day24: Theme Day UN Woman\"\nauthor: \"Federica Gazzelloni\"\nformat: html\neditor: visual\nexecute: \n  warning: false\n  message: false\n  eval: false\n---\n\n\n> Gazzelloni F. (2023), Data Visualization: UN Woman\n\nData for this visualization is from the [un.org](https://population.un.org/), to download the data: <https://population.un.org/wpp/Download/Standard/Fertility/>.\n\nThe theme for the challenge is **Theme Day: UN Woman** and I chosen a package made by **CÃ©dric Vidonne**, which provides a ggplot2 theme and a set of colour palettes for making charts and graphics based on **UNHCR Data Visualization Guidelines**.\n\nTo install the package:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"remotes\")\nremotes::install_github(\"vidonne/unhcrthemes\")\n```\n:::\n\n\nLoad necessary packages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(scales)\nlibrary(unhcrthemes)\n```\n:::\n\n\nDownload and load the data:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readxl)\ndf <- read_excel(\"data/WPP2022_FERT_F04_BIRTHS_BY_5-YEAR_AGE_GROUPS_OF_MOTHER.xlsx\", \n    sheet = \"Estimates\", \n    skip = 16)\ndf%>%names\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1 <- df%>%\n  janitor::clean_names()%>%\n  pivot_longer(cols = 13:20)%>%\n  select(region=region_subregion_country_or_area,\n         year,name,value)%>%\n  mutate(value2=as.numeric(value),\n         value2=round(value2),\n         name=gsub(\"x\",\"\",name),\n         name=gsub(\"_\",\"-\",name))%>%\n  rename(age=name) %>%\n  filter(!is.na(year))\n\ndf1%>%head;\ndf1%>%dim\n```\n:::\n\n\n164160 4\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf1%>%summary()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(scipen=999)\ndf1%>%\n  filter(region==\"WORLD\",\n         year==2021) %>%\n  ggplot(aes(x = age, y = value2)) +\n  geom_bar(stat = \"identity\", fill = \"#0072C6\") +\n  labs(\n    title = \"World: Number of births classified by five-year age groups of mother\",\n    subtitle=\"Data are presented in thousands (K)\",\n    x = \"Age category\",\n    y = \"Value\",\n    caption=\"DataSource:Fertility standard projections (population.un.org)\\n#30DayChartChallenge day24: Theme Day: UN Woman | DataViz: Federica Gazzelloni\"\n  ) +\n  scale_y_continuous(labels = label_number(suffix = \"K\", scale = 1e-3))+\n  unhcrthemes::theme_unhcr()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(showtext)\nshowtext.auto(enable = FALSE)\nggsave(\"day_14_UNWoman.png\",\n       bg=\"white\",\n       width = 7,height = 5)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}