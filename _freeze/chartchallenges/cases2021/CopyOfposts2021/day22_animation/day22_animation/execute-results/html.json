{
  "hash": "02fe08fbe898045194520f0581b095c9",
  "result": {
    "markdown": "---\ntitle: 'Animation'\nsubtitle: 'Welcome to #30DayChartChallenge 2021 day 22'\ndate: '2021-04-22'\nimage: 'day22_animation.gif'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggpol)\nlibrary(gganimate)\nlibrary(gifski)\nlibrary(extrafont)\n\noptions(scipen = 999)\n\n#Data input and transformation\ndf_backup <- read.delim(\"https://www.prdh.umontreal.ca/BDLC/data/bco/E0per.txt\",sep=\"\",skip=1)\n\n\ndf <- df_backup%>%\n  pivot_longer(cols=c(\"Female\",\"Male\"),names_to=\"Gender\",values_to=\"life_expectancy\")\n\n\n\nle_plot <- df%>%\n  ggplot(aes(x=Year,y=life_expectancy,group=Gender,color=factor(Gender))) + \n  geom_point(show.legend = FALSE, alpha = 0.7) +\n  geom_line() +\n  labs(title = \"British Columbia Life Expectancy at birth\",\n       subtitle = \"from 1921 to 2016 | Animation Day22\",\n       caption = \"Viz Federica Gazzelloni | Data Source: Canadian Human Mortality Database\",\n       y = \"Life Expectancy\", x=\"Time(Year)\",\n       color=\"Gender\") +\n  \n  scale_fill_manual(values = c('#ff7129', '#d3b4d0')) +\n  #scale_y_continuous(breaks = c(-3000000, -6000000, -9000000, 0, 3000000, 6000000, 9000000),label = c(\"3M\", \"6M\", \"9M\", \"0\", \"3M\", \"6M\", \"9M\")) +\n  theme_light() +\n    theme(plot.background = element_rect(fill = \"#edf7fa\") ,\n          panel.background = element_rect(fill = \"#edf7fa\"),\n          panel.border = element_blank(),\n          strip.background = element_blank(),\n          strip.text.x = element_blank(),\n          \n          panel.grid.minor = element_blank(),\n          panel.grid.major = element_blank(),\n          \n          legend.position = \"top\",\n          legend.title = element_text(family=\"Georgia\",size = 15,face = 'bold',color = '#035770'),\n          legend.key.size = unit(0.75, 'cm'),\n          legend.key = element_blank(),\n          legend.background = element_blank(),\n          legend.text = element_text(family=\"Georgia\",size = 15,face = 'bold',color = '#035770'),\n          \n          plot.title = element_text(family=\"Georgia\",size = 20,hjust = 0.5,face = 'bold',color = \"#035770\"),\n          plot.subtitle = element_text(family=\"Georgia\",size = 12,hjust = 0,face = 'bold',color = \"#035770\"),\n          plot.caption = element_text(family=\"Georgia\",size = 10,hjust = 1,face = 'bold',color = \"#035770\"),\n          \n          axis.line.x = element_line(size=2,color=\"#035770\"),\n          axis.title.x = element_text(family=\"Georgia\",size = 16,face = 'bold',color = \"#035770\"),\n          axis.text.x = element_text(family=\"Georgia\",size = 10,face = 'bold', color =  \"#035770\"),\n          axis.text.y = element_text(family=\"Georgia\",size = 10,face = 'bold',color =  \"#035770\"),\n          axis.ticks = element_blank(),\n          axis.title.y = element_text(family=\"Georgia\",size = 16,face = 'bold',color =  \"#035770\"),\n          plot.margin = margin(10,10,10,10)\n    )\n  \n  \n\nfinal <-le_plot + \n  transition_reveal(life_expectancy) +\n  shadow_wake(wake_length = 0.1, alpha = FALSE)\n\n\n\nanimate(final,gifski_renderer(\"day22_animation/animation_day22.gif\"))\n\n\n\n\nanim_save(animate(final, nframes = 151, width = 9, height = 6.5, units = \"in\", res = 300), \n          filename = \"day22_animation/animation_day22.gif\",\n          end_pause = 10, rewind = F, fps = 15)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}