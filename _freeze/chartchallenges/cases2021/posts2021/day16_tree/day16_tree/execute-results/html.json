{
  "hash": "4acd56c539c8fcf906e1ef5b71b1e353",
  "result": {
    "markdown": "---\ntitle: 'Tree'\nsubtitle: 'Welcome to #30DayChartChallenge 2021 day 16'\ndate: '2021-04-16'\nimage: 'day16_tree.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n\n\nLoad libraries\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(medflex)\nlibrary(extrafont)\n\nlibrary(treeio)\nlibrary(ggtree)\n\n\n\n# data ##################################\n\n# Data source: UPBdata\n# individuals who divorced between March 2008 and March 2009 \n# in four major courts in Flanders \n\n# 385 individuals related to romantic relationship and breakup characteristics\n\n# initiator: of the divorce\n# att: anxious attachment level\n# negaff: experienced negative affectivity\n\n# attbin: anxious attachment level: \n         # 1 = higher than sample mean, 0 = lower than sample mean\n\n# attcat: multicategorical anxious attachment level: \n         # L = low, M = intermediate, H = high\n\n# UPB: displayed unwanted pursuit behavior(s) towards the ex-partner\n\n\n# load data & selection ---------------------\ndata(UPBdata, package = \"medflex\")\nhead(UPBdata)\nstr(UPBdata)\n\n\nUPBdata$UPB = as.factor(ifelse(UPBdata$UPB <= 0.4, \"Low\", \"High\"))\n\nmy_UPB<-UPBdata%>%dplyr::select(-2,-3)\n\n\n\n# transform data set into hclust ############################\nhc <- hclust(dist(my_UPB), method = \"average\")\n\n# transform hclust into Phylo ############################\nmy_hc<-as.phylo(hc)\n\n# manipluation ##################################\ngroupInfo <- split(my_hc$tip.label, \n                   gsub(\"_\\\\w+\", \"\", my_hc$tip.label))\n\nmy_hc2 <- groupOTU(my_hc, groupInfo)\n\n# checking for edges ###################################\nedge=data.frame(my_hc2$edge, edge_num=1:nrow(my_hc2$edge))\ncolnames(edge)=c(\"parent\", \"node\", \"edge_num\")\n\n# plotting #######################################\nmain_plot<-ggtree(my_hc2, aes(color=group), layout='circular',ladderize=F) + \n  geom_tiplab(size=1, aes(angle=angle)) +\n  geom_point2(aes(subset=(node==1)), shape=21, size=5, fill='green')+\n  ggtitle(\"Unwanted pursuit behavior: \\nTree related to romantic relationship and breakup characteristics \\non 385 individuals who divorced between March 2008 and March 2009\")+\n  #geom_text(label=\"\")+\n  #geom_text(data = labels, aes(x, y, label = edu), size = 5)+\n  labs(subtitle=\"Strategies for the Estimation of Natural Direct and Indirect Effects of bad relationships\",\n       caption=\"Multivariate Behavioral Research, Viz Federica Gazzelloni Datasource: R Package medflex Tree Day 16\")+\n  theme_void() + \n  annotate(\"text\", x = 0, y = 1.018,\n           label = \"Correlated Risk factors\",\n           size = 8,\n           fontface = \"bold\",\n           family = \"Courier New\")+\n  theme(legend.position = \"none\",\n        plot.title = element_text(family=\"Andale Mono\",color=\"darkred\",size=12),\n        plot.subtitle = element_text(family=\"Andale Mono\",size=9,color=\"darkolivegreen\"),\n        plot.caption = element_text(family=\"Andale Mono\",size=8,face=\"bold\"),\n        axis.text.x = element_text(family=\"Andale Mono\",size=8),\n        plot.background = element_rect(color = \"lightgoldenrod\",size=44))\n\n# saving ######################################\n\n\nragg::agg_png(here::here(\"day16_tree\", \"Tree_day16.png\"),\n              res = 320, width = 14, height = 8, units = \"in\")\nmain_plot\n\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}