{
  "hash": "81b2bca173e72ffd18be2becfb2a3c96",
  "result": {
    "markdown": "---\ntitle: '3d'\nsubtitle: 'Welcome to #30DayMapChallenge 2021 day 11'\ndate: '2021-11-11'\nimage: 'day11_3D.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n### source: https://ggplot2-book.org/maps.html\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rayshader)\nlibrary(tidyverse)\n\n\nfiles <- bomrang::get_available_imagery() %>%\n  stringr::str_subset(\"202111100700\")\n\ncurl::curl_download(\"ftp://ftp.bom.gov.au/anon/gen/gms/IDE00427.202111110800.tif\",\n                    \"IDE00427.202111110800.tif\")\n\nlocaltif=raster::raster(\"day11_3D/IDE00427.202111110800.tif\")\n\n#And convert it to a matrix:\nelmat = rayshader::raster_to_matrix(localtif)\n\nrequire(rayshader)\n#We use another one of rayshader's built-in textures:\nearth1 <- elmat %>%\n  sphere_shade(colorintensity = 2,\n               zscale = 1/2,\n               texture=\"unicorn\") %>%\n  plot_map()\n\n# save plot\nragg::agg_png(here::here(\"day11_3D/3D.png\"),\n              res = 320, width = 12, height = 8, units = \"in\")\nelmat %>%\n  sphere_shade(colorintensity = 2,\n               zscale = 1/2,\n               texture=\"unicorn\") %>%\n  plot_map()\ndev.off()\n\n# fonts\n\nlibrary(showtext)\nlibrary(extrafont)\n#fonts()\n#loadfonts()\nfont_add_google(\"Shadows Into Light\",\"ShadowsIntoLight\")\nshowtext_opts(dpi = 320)\nshowtext_auto(enable = T)\n\n\n\n\n# final touches\nlibrary(cowplot)\nlibrary(magick)\n\nimage_3D<- magick::image_read(here::here(\"day11_3D/3D.png\"))\n\n\nfinal <- cowplot::ggdraw()+\n  draw_image(image_3D,x = 0.1, y = 0,width = 0.7) +\n  draw_label(label=\"Australia perspective\",x=0.3,y=0.15,\n             fontfamily=\"ShadowsIntoLight\",size=20) +\n\n\n  draw_label(label=\"World 3D Sat-view (8am 11.11.2021-GMT+11)\", x=0.45, y=0.9,\n             size=30,\n             fontfamily=\"ShadowsIntoLight\") +\n\n  draw_text(\"Datasource: bom.gov.au and #30DayMapChallenge day11 3D\\nInfographics: Federica Gazzelloni\",\n            x=0.5,y=0.05,family=\"ShadowsIntoLight\",size=12)\n\n\n\nragg::agg_png(here::here(\"day11_3D/world_3D.png\"),\n              res = 320, width = 8, height = 6, units = \"in\")\nfinal\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}