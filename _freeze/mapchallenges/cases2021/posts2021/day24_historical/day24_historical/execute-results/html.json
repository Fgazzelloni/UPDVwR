{
  "hash": "f722f752ea90840e515f60d89b426948",
  "result": {
    "markdown": "---\ntitle: 'Historical'\nsubtitle: 'Welcome to #30DayMapChallenge 2021 day 24'\ndate: '2021-11-24'\nimage: 'day24_historical.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n\n\n\n### The data are from:\n\n- https://webs.ucm.es/info/cliwoc/\n- https://jcheshire.com/wp-content/uploads/2016/10/shipping_map.zip\n- https://jcheshire.com/visualisation/mapping-historic-tracks-ggplot2/\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrm(list=ls())\n\nlibrary(rgdal)\nlibrary(ggplot2)\nlibrary(png)\n\nwrld <- rgdal::readOGR(\"data/shipping_map/ne_110m_admin_0_countries.shp\")\nwrld.f <- fortify(wrld, region=\"sov_a3\")\n\nbdata <- read.csv(\"data/shipping_map/british_shipping_example.csv\")\n\n# btitle <- readPNG(\"data/shipping_map/brit_titles.png\")\ncompass <- readPNG(\"data/shipping_map/windrose.png\")\nearth <- readPNG(\"data/shipping_map/earth_raster.png\")\n\n\n\nlibrary(sysfonts)\nlibrary(showtext)\nshowtext_opts(dpi = 320)\nfont_add_google(\"Roboto Condensed\")\nshowtext_auto()\nfont= \"Roboto Condensed\"\n\n\nmap <- ggplot(wrld.f, aes(x = long, y = lat))+\n  annotation_raster(earth, xmin = -180, xmax = 180, ymin = -90, ymax = 90) +\n  geom_polygon(aes(group=group),\n               size = 0.1, colour= \"black\", fill=\"#D6BF86\",alpha=0.4) +\n  geom_path(data= bdata,aes(long,lat,group = paste(trp, group.regroup, sep = \".\"),\n                            colour=nat), size = 0.2, alpha = 0.5, lineend = \"round\") +\n  #annotation_raster(btitle, xmin = 30, xmax = 140, ymin = 51, ymax = 87) +\n  annotation_raster(compass, xmin = -125, xmax = -165, ymin = 5, ymax = 45) +\n  scale_x_continuous(\"\", breaks=NULL)+\n  scale_y_continuous(\"\", breaks=NULL)+\n  guides(colour = guide_legend(override.aes = list(size = 3)))+\n  coord_equal() +\n  labs(title=\"Map of 18th Century Shipping Expeditions\",\n       subtitle=\"1781 - 1799\",\n       color=\"Nationality of the ships\",\n       caption = \"DataSource: Climatological Database for the World's Oceans 1750-1850\\n#30DayMapChallenge Historical\\nGraphic:Federica Gazzelloni\")+\n  ggthemes::theme_map()+\n  theme(text = element_text(color=\"midnightblue\",family=\"Roboto Condensed\"),\n        panel.background = element_rect(fill='#BAC4B9',colour='black'),\n        legend.position = c(0.1,0.2),\n        legend.background = element_blank(),\n        legend.text = element_text(color=\"white\",size=8),\n        legend.key = element_blank(),\n        legend.title = element_text(color=\"white\",size=10),\n        plot.title = element_text(size=40),\n        plot.subtitle = element_text(size=18),\n        plot.caption = element_text(size=12)\n        )\n\n# save map plot\nragg::agg_png(here::here(\"data/historical.png\"),\n              res = 320, width = 12, height = 8, units = \"in\")\nmap\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}