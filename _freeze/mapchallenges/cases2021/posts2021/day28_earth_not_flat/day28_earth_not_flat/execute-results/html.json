{
  "hash": "2b6459c92887903d71805e8f02ccd12f",
  "result": {
    "markdown": "---\ntitle: 'Earth_not_flat'\nsubtitle: 'Welcome to #30DayMapChallenge 2021 day 28'\ndate: '2021-11-28'\nimage: 'day28_earth_not_flat.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n- https://github.com/schochastics/roughsf\n- https://leonawicz.github.io/mapmate/articles/usage_and_limitations.html\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mapmate)\nlibrary(dplyr)\nlibrary(RColorBrewer)\nRColorBrewer::display.brewer.all()\npal <- rev(brewer.pal(11, \"Blues\"))\n\ndata(annualtemps)\ndata(borders)\ndata(bathymetry)\n\nid <- \"frameID\"\nannualtemps\ntemps <- mutate(annualtemps, frameID = Year - min(Year) + 1) %>%\n  filter(frameID == 1)  # subset to first frame\nbrdrs <- mutate(borders, frameID = 1)\nbath <- mutate(bathymetry, frameID = 1)\n\n\nsave_map(annualtemps,\n         z.name = \"z\",\n         id = \"Year\",\n         col = pal,\n         lat = 30,\n         lon= 20,\n         rotation.axis= 22,# defaults to 23.4 degrees\n         type = \"density\",\n         contour = \"overlay\",\n         save.plot = FALSE,\n         return.plot = TRUE)\n\n\n\n\n\n#------\nlibrary(sf)\nlibrary(tidyverse)\n\nworld <- rnaturalearth::ne_countries(scale = 50,\n                                     type = \"countries\",\n                                     returnclass = \"sf\")\n\n# little <- rnaturalearth::ne_countries(scale = 50,\n#                                      type = \"tiny_countries\",\n#                                      returnclass = \"sf\")\n# little_coord<- st_coordinates(little)\n# little_coord<-as.data.frame(little_coord)\n# ggplot(little_coord,aes(x=X,y=Y))+\n#   geom_point()+\n#   coord_map(\"ortho\", orientation = c(25.849945, 16.525750, 0))\n# x_little<- little_coord$X\n# y_little<- little_coord$Y\n\n\n\nworld_cr<- st_coordinates(world)\nworld_cr<-as.data.frame(world_cr)%>%\n  fortify()\n\nearth<-ggplot(world_cr,aes(x=X,y=Y,group=L3))+\n  geom_line(aes(color= factor(L3)),\n            size=0.15,show.legend = F)+\n  geom_point(shape=\".\")+\n  labs(x=\"\",y=\"\")+\n  coord_map(\"ortho\", orientation = c(5.849945, 56.525750, 0)) +\n  theme(plot.background = element_blank(), # element_rect(fill=\"#11657A\",color=\"#11657A\"),\n        panel.background = element_blank(), #element_rect(fill=\"#11657A\",color=\"#11657A\"),\n        axis.title.y = element_blank(),\n        axis.title.x = element_blank(),\n        axis.text.x = element_blank(),\n        axis.text.y = element_blank()\n        )\n\ng <- grid::circleGrob(gp = grid::gpar(fill = \"#68aade\",color=\"#68aade\"))\n\n# set the text options\nlibrary(showtext)\nshowtext_opts(dpi = 320)\nshowtext_auto(enable = T)\nfont_add_google(\"Share Tech Mono\", \"techmono\")\n\nlibrary(cowplot)\nfinal <- ggdraw()+\n  draw_image(\"/Users/federica/Documents/R/R_general_resources/30DayMapChallenge/day28_earth_not_flat/space.png\",\n             scale=1.4,height=1)+\n  draw_grob(g, scale = 1)+\n  draw_plot(earth)+\n  #draw_image(mono_it, x = 0, y = 0,width = 1)+\n  draw_text(\"The Earth is not flat\",color=\"white\",\n            x=0.15,y=0.96,angle=0,size=23,\n            family=\"techmono\",fontface=\"bold\")+\n  draw_text(\"DataSource: rnaturalearth\\n#30DayMapChallenge-The Earth is not flat\\nGraphic: Federica Gazzelloni\",\n            x=0.855,y=0.05,\n            family=\"techmono\",\n            size=11,color=\"white\")\n\n\n\n# save final plot\nragg::agg_png(here::here(\"/Users/federica/Documents/R/R_general_resources/30DayMapChallenge/day28_earth_not_flat/earth_not_flat.png\"),\n              res = 320, width = 12, height = 10, units = \"in\")\nfinal\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}