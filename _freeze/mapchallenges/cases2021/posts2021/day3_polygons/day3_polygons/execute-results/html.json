{
  "hash": "81522b3c37cc38c5b07d63a3628a28f1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Polygons'\nsubtitle: 'Welcome to #30DayMapChallenge 2021 day 3'\ndate: '2021-11-3'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2021/day3_polygons/polygons.png'\nimage-alt: ''\ndescription: ''\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n# Overview\n\n\nThe `Isole Åland` belonged to the provinces that the Swedish Empire had to cede to the Russian Empire with the Treaty of Fredrikshamn in September 1809, and became part of the semi-autonomous Grand Duchy of Finland\n\nThis is the reference for identifying ISO3 codes:\n[ISO3 reference](https://it.wikipedia.org/wiki/ISO_3166-1_alpha-3)\n\n\nWe need `wrld_simpl` for the shapefiles:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(maptools)\ndata(wrld_simpl)\n#unique(wrld_simpl$ISO3)\nplot(wrld_simpl %>% subset(., ISO3 %in% c(\"ALA\")))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nala<- wrld_simpl$ISO3[wrld_simpl$ISO3==\"ALA\"]\nshape_df <- fortify(wrld_simpl, region = 'ISO3')\n\nshape_df%>%\n  filter(id==\"ALA\")%>%count(group)\n\nshape_short<- shape_df%>%\n  filter(id==\"ALA\")%>%\n  mutate(group_names=case_when(group==\"ALA.1\"~\"Åland\",\n                               group==\"ALA.2\"~\"Lemland\",\n                               group==\"ALA.3\"~\"Eckero\",\n                               group==\"ALA.4\"~\"Lumparland\",\n                               group==\"ALA.5\"~\"Vardo\"))\n```\n:::\n\n\n\n\nmade with ggplot2:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(extrafont)\nloadfonts()\nfonts()\nfamily<- \"Arial Rounded MT Bold\"\n\n\n\nala_pol_map <- ggplot() +\n  geom_polygon(data =shape_short , aes(x = long, y = lat, group = group_names, \n               fill = group_names), color = 'black') +\n  geom_point(aes(x=19.944444, y=60.098611),color=\"darkred\",size=4)+\n  \n  \n  ggtitle(label = \" \")+\n  scale_fill_viridis_d()+\n  guides(fill=guide_legend(title.position =\"top\"))+\n  labs(fill=\"\",\n       captions=\"\\n#30DayMapChallenge Day3 Polygons\\n\\nDatasource: wrld_simpl {maptools} - Infographics: Federica Gazzelloni\\n\")+\n  ggthemes::theme_map()+\n  theme(text = element_text(family=family),\n        legend.text = element_text(family=family,size=14),\n        legend.direction = \"vertical\",\n        legend.background = element_blank(),\n        legend.key = element_rect(size=3),\n        plot.caption = element_text(hjust=0.5,vjust=2,size=11,colour = \"black\",family=family),\n        plot.title = element_text(size=34,vjust=1),\n        plot.title.position = \"panel\",\n        plot.background = element_rect(fill=NA, color=NA, size=20)\n        )\n\n\n# final touches\nlibrary(cowplot)\nlibrary(magick)\n\nimage<- magick::image_read(here::here(\"day3_polygons/capitol.png\"))\n\nfinal <- cowplot::ggdraw(ala_pol_map)+\n  draw_image(image,x = 0.8, y = 0.38,width = 0.1)+\n  draw_label(label=\"Mariehamn\",x=0.3,y=0.2, fontfamily = family) +\n  draw_label(label=\"Polygons - Åland Islands\",x=0.3,y=0.95, fontfamily = family,size=40) +\n  draw_line(x = c(0.345, 0.467),y = c(0.2, 0.385),color = \"darkred\", size = 0.5)\n\n# save final plot\nragg::agg_png(\"/Users/federica/Documents/R/R_general_resources/30DayMapChallenge/day3_polygons/polygons.png\",\n              res = 320, width = 12, height = 8, units = \"in\")\nfinal\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}