{
  "hash": "a0fca7de0c9dd91e52480241ce9837e9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Hexagons Map'\nsubtitle: 'Welcome to #30DayMapChallenge 2024 Day 4'\ndate: '2024-11-04'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day4_hexagons/day4_hexagons.png'\nimage-alt: 'day4_hexagons'\ndescription: 'Hexagons Map'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n![Hexagons Map](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day4_hexagons/day4_hexagons.png)\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install and load required packages\nif (!requireNamespace(\"sf\", quietly = TRUE)) install.packages(\"sf\")\nif (!requireNamespace(\"ggplot2\", quietly = TRUE)) install.packages(\"ggplot2\")\n\nlibrary(sf)\nlibrary(ggplot2)\nlibrary(rnaturalearth)\n\n# Load Europe shapefile data\neurope <- ne_countries(continent = \"Europe\", returnclass = \"sf\")\n\n# Reproject the data to a projected CRS (ETRS89 / LAEA Europe)\neurope_projected <- st_transform(europe, crs = 3035)\n\n# Create a hexagonal grid with the new CRS\nhex_grid <- st_make_grid(europe_projected, \n                         cellsize = 50000, \n                         square = FALSE)  # Adjust cellsize as needed\nhex_sf <- st_sf(geometry = hex_grid)\n\n# Clip the hex grid to the shape of Europe\nhex_europe <- st_intersection(hex_sf, st_union(europe_projected))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# sysfonts::font_families()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot the hexagonal grid map\nggplot(data = hex_europe) +\n  geom_sf(fill = \"lightblue\", color = \"darkblue\") +\n  labs(title = \"Hexagon Map of Europe (ETRS89 / LAEA Europe)\",\n       caption = \"Data source: Natural Earth\\n#30DayMapChallenge 2024 Day4 | @fgazzelloni\") +\n  theme_minimal() +\n  theme(text = element_text(family = \"serif\", color = \"navy\"),\n        legend.position = \"right\",\n        plot.title = element_text(hjust = 0.5, \n                                  face = \"bold\",\n                                  color = \"navy\",\n                                  size = 22),\n        plot.subtitle = element_text(hjust = 0.5, \n                                     color = \"navy\",\n                                     size = 15),\n        plot.caption = element_text(hjust = 0.5, \n                                    color = \"navy\",\n                                    size = 10),\n        axis.text = element_blank(),\n        panel.grid = element_line(color=\"navy\")) +\n  # add a north arrow and a scale bar\n  ggspatial::annotation_north_arrow(location = \"br\") +\n  ggspatial::annotation_scale(location = \"bl\", width_hint = 0.5)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# save the map as png\nggsave(\"day4_hexagons.png\", \n       bg = \"white\",\n       width = 8, height = 8, units = \"in\", dpi = 300)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}