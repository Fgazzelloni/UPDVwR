{
  "hash": "22288c287b13077b3777bd23663f3ed7",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Choropleth Map'\nsubtitle: 'Welcome to #30DayMapChallenge 2024 Day 16'\ndate: '2024-11-16'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day16_choropleth_map/day16_choropleth_map.png'\nimage-alt: 'day16_choropleth_map'\ndescription: 'Choropleth Map'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n![Choropleth Map](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day16_choropleth_map/day16_choropleth_map.png)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nurl <- \"https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json\"\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngeojson_data <- sf::st_read(url)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngeojson_data %>%\n  ggplot() +\n   geom_sf(aes(fill = STATE), color = \"white\", size = 0.1, show.legend = F) +\n  coord_sf(crs = 5070, clip = \"off\") +\n  labs(title = \"Choropleth Map of USA Counties by States\", caption = \"Source: US Census Bureau (plotly/datasets)\\n#30DayMapChallenge Day16 | @fgazzelloni\") +\n  theme_minimal()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sysfonts)\nlibrary(showtext)\nsysfonts::font_add_google(\"Roboto Condensed\", \"roboto\")\nshowtext::showtext_auto(enable = F)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(geojson_data) +\n  geom_sf(aes(fill = STATE), color = \"white\", size = 0.1) + # Fill counties by state\n  geom_sf(data = geojson_data %>% group_by(STATE) %>% summarise(geometry),  # Overlay state borders\n          color = \"black\", linewidth = 0.1, fill = NA) +\n  coord_sf(crs = 5070, clip = \"off\") +\n  scale_fill_manual(values = colorRampPalette(brewer.pal(12, \"Set3\"))(length(unique(geojson_data$STATE)))) +  # Custom colors\n  labs(\n    title = \"Choropleth Map of USA Counties by States\",\n    subtitle = \"Visualizing USA Counties with Distinct State Boundaries\",\n    caption = \"Source: US Census Bureau (plotly/datasets)\\n#30DayMapChallenge Day16 | @fgazzelloni\"\n  ) +\n  theme_minimal() +\n  theme(text = element_text(family = \"roboto\"),\n    plot.title = element_text(size = 20, face = \"bold\", hjust = 0.5, color = \"#002c3e\"),\n    plot.subtitle = element_text(size = 14, hjust = 0.5, color = \"#f5f5f5\"),\n    plot.caption = element_text(size = 8, hjust = 0.5, color = \"#002c3e\"),\n    panel.grid = element_line(color = \"#f5f5f5\",linewidth=0.05,linetype=\"dashed\"),\n    #panel.grid = element_blank(),  # Remove distracting grid lines\n    legend.position = \"none\",  # Remove legend\n    plot.background = element_rect(fill = \"#7781a6\", color = NA)  # Light background for contrast\n  ) +\n  # add a north arrow and a scale bar\n  ggspatial::annotation_north_arrow(location = \"br\") \n```\n:::\n\n\n\n\n\nsave it as png\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"day16_choropleth_map.png\", \n       bg = \"#7781a6\",\n       width = 8, height = 6, dpi = 300)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}