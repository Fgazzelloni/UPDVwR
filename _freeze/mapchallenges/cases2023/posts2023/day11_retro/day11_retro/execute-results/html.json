{
  "hash": "75b949554fa008e53ee23b3350a6eee9",
  "result": {
    "markdown": "---\ntitle: 'Retro'\nsubtitle: 'Welcome to #30DayMapChallenge 2023 day 11'\ndate: '2023-11-11'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2023/day11_retro/day11_retro.png'\nimage-alt: ''\ndescription: ''\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n# Overview\n\nA place that has undergone significant changes over time is the city of `Berlin, Germany`. Berlin has a rich and complex history, and its geography and political boundaries have been dramatically transformed, especially during the 20th century. \n\n\n\n<center>\n![](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2023/day11_retro/day11_retro.png)</center>\n\n\nFor this challenge I decided to use four layers representing the `German Empire in 1871 and 1945`, coupled with additional layers for `Germany in 1989, specifically focusing on Berlin East and West`, to craft a retro map that chronicles the profound historical shifts in Germany's territorial landscape.\n\nAnd capture the evolution of Germany from its imperial unification in 1871 through the post-World War II division into East and West, culminating in the transformative reunification of 1989. \n\nThe inclusion of specific layers for Berlin East and West, accentuated by the fall of the Berlin Wall, emphasizes the city's symbolic role and adds a poignant narrative layer to the map. \n\nData is from the `Max Planck Institute for Demographic Research` via <https://censusmosaic.demog.berkeley.edu/data/historical-gis-files>\n\n\nLoad necessary libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sf)\nlibrary(ggplot2)\n```\n:::\n\n\n## German Empire 1871 layer\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerman_empire_1871 <- read_sf(\"data/german_empire_1871\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngerman_empire_1871%>%class\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngerman_empire_1871%>%names\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(german_empire_1871)+\n  geom_sf(aes(fill=NAME),show.legend = F)\n```\n:::\n\n\n## German Empire 1945 layer\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngerman_empire_1945<- read_sf(\"data/german_empire_1945\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_sf(data=german_empire_1871,color=\"red\")+\n  geom_sf(data=german_empire_1945,color=\"blue\")\n```\n:::\n\n\n\n## Germany 1989 layer\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngermany_1989 <- read_sf(\"data/germany_1989\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_sf(data=german_empire_1871,aes(color=\"1871\"))+\n  geom_sf(data=german_empire_1945,aes(color=\"1945\"))+\n  geom_sf(data=germany_1989,aes(color=\"1989\"))+\n  coord_sf(crs = 'EPSG:3068',clip = \"off\") + \n  scale_color_manual(name = \"Year\", \n                    values = c(\"#536878\", \"#8B4513\",\"#B8860B\"), \n                    labels = c(\"1\" = \"1871\", \"2\" = \"1945\",\"3\"=\"1989\")) +\n  labs(caption = \"#30DayMapChallenge 2023 Day 11 - Retro\\nDataSource: censusmosaic - historical-gis-files | Map: @fgazzelloni\") + \n  theme(text=element_text(color=\"#2F4F4F\"),\n        plot.background = element_rect(color=\"#FDF5E6\",fill=\"#FDF5E6\"),\n        panel.background = element_rect(color=\"#FDF5E6\",fill=\"#FDF5E6\"))+\n  ggspatial::annotation_scale()\n```\n:::\n\n\n## Berlin Ost and Berlin West layer\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngermany_89_berlin<- germany_1989%>%\n  dplyr::filter(GEN%in%c(\"Berlin Ost\",\"Berlin West\"))\ngermany_89_berlin\n```\n:::\n\n\n\n## Historical information\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntext <- dplyr::tibble(text=c(\"In 1871, the German territory underwent a transformative change with the establishment of the German Empire, unifying diverse states under Prussian leadership. In 1945, after World War II, Germany faced significant territorial alterations with the division into East and West, symbolized by the Berlin Wall. The reunification in 1989 marked a historic shift, leading to the dissolution of the wall and the restoration of a unified Germany, symbolizing the end of the Cold War division and reshaping the nation borders. On November 9, 1989, the fall of the Berlin Wall became a momentous event, symbolizing the end of separation and a new era for Germany\"))\n```\n:::\n\n\n\n## Set the fonts\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(showtext)\nshowtext::showtext_auto()\nlibrary(sysfonts)\nsysfonts::font_add_google(\"Libre Baskerville\",\"Libre Baskerville\")\ntheme_set(theme_minimal(base_family = \"Libre Baskerville\"))\n```\n:::\n\n\n## Make the Map\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot()+\n  geom_sf(data=german_empire_1871,aes(color=\"1871\"),key_glyph = draw_key_rect)+\n  geom_sf(data=german_empire_1945,aes(color=\"1945\"),key_glyph = draw_key_rect)+\n  geom_sf(data=germany_1989,aes(color=\"1989\"),key_glyph = draw_key_rect)+\n  geom_sf(data=germany_89_berlin,aes(fill=GEN),color=\"#B8860B\")+\n  ggtext::geom_textbox(data=text,inherit.aes = F,\n                       x=100000,y=-850000,\n                       aes(label=text),\n                       width = unit(1, \"npc\"),\n                       lineheight=0.45,\n                       size=5.1)+\n  coord_sf(crs = 'EPSG:3068',clip = \"off\") + \n  scale_color_manual(name = \"Year\", \n                    values = c(\"#536878\", \"#8B4513\",\"#B8860B\")) +\n  scale_fill_manual(name = \"Berlin\", \n                  values = c(\"#CD5C5C\",\"#4682B4\")) +\n  labs(title=\"Germany Through Time:\",\n  subtitle=\"A Retro Cartographic Journey of Shifting Borders (1871-1989)\",\n       caption = \"#30DayMapChallenge 2023 Day 11 - Retro\\nDataSource: Censusmosaic - Historical-gis-files | Map: @fgazzelloni\") + \n  theme(text=element_text(color=\"#2F4F4F\",size=24),\n        plot.title = element_text(size=16),\n        plot.caption = element_text(hjust = 0.5,vjust = 1,\n                                    face=\"bold\",\n                                    size=12,\n                                    lineheight = 0.5),\n        plot.background = element_rect(color=\"#FDF5E6\",fill=\"#FDF5E6\"),\n        panel.background = element_rect(color=\"#FDF5E6\",fill=\"#FDF5E6\"))+\n  ggspatial::annotation_scale()\nshowtext_end()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"~/Documents/R/R_general_resources/EDA_and_maps/30DayMapChallenge/2023/day11_retro/day11_retro.png\",\n       dpi = 220,\n       width = 7,\n       height = 6.7)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}