{
  "hash": "5fd34c96be6f492e618319a374a19200",
  "result": {
    "markdown": "---\ntitle: 'Raster'\nsubtitle: 'Welcome to #30DayMapChallenge 2023 day 21'\ndate: '2023-11-21'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2023/day21_raster/day21_raster.png'\nimage-alt: ''\ndescription: ''\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n# Overview\n\nHow to color a `Raster Map` with R.\n\n\n<center>\n![](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2023/day21_raster/day21_raster.png)</center>\n\n::: {.cell}\n\n```{.r .cell-code}\n# Install and load necessary packages\n# install.packages(c(\"ggplot2\", \"raster\"))\nlibrary(tidyverse)\nlibrary(raster)\nlibrary(rasterVis)\n```\n:::\n\n\n\n- <https://stackoverflow.com/questions/33359284/r-plot-background-map-from-geotiff-with-ggplot2>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nalaska <- \"data/SR_50M_alaska_nad.tif\"\nalaska_raster <- raster(alaska)\nctab <- rep(RColorBrewer::brewer.pal(n = 8, name = \"RdBu\"),200)\ncolortable(alaska_raster) <- ctab\ngplot(alaska_raster, maxpixels = 10e5) +\n  geom_tile(aes(fill = factor(value))) +\n  scale_fill_manual(values = ctab,guide = \"none\") +\n  coord_equal()+\n  ggthemes::theme_map()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nalaska <- \"data/SR_50M_alaska_nad.tif\"\nalaska_raster <- raster(alaska)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nalaska_df <- as.data.frame(rasterToPoints(alaska_raster))\nval <- unique(alaska_df$SR_50M_alaska_nad)\n```\n:::\n\n\nFonts:\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(sysfonts)\nfont_add_google(\"Raleway\",\"Raleway\")\nshowtext::showtext_auto()\n```\n:::\n\n\nColors:\n\n::: {.cell}\n\n```{.r .cell-code}\ncolors <- c(\"#001F3F\",\"#008080\",\"#00BCD4\",\"#4CAF50\",\n            \"#8BC34A\",\"#FFD700\")\n```\n:::\n\n\nMap: \n\n::: {.cell}\n\n```{.r .cell-code}\nmap <- gplot(alaska_raster, maxpixels = 10e5) +\n  geom_tile(aes(fill = value)) +\n  scale_fill_gradientn(colors=rev(colors))+\n  coord_equal()+\n  labs(title=\"Alaska\",\n       subtile=\"#30DayMapChallenge 2023 Day 21 Raster\",\n       caption=\"Colors indicate the high and low level of elevation in Alaska\\nDataSource: QGis Raster Sample Data | Map: @fgazzelloni\",fill=\"Elevation\")+\n  ggthemes::theme_map()+\n  theme(text=element_text(family=\"Raleway\",color=\"#f6f7f9\",\n                          size=40),\n        panel.grid = element_line(color=\"#f6f7f9\"),\n        plot.title = element_text(hjust=0.5,vjust=-0.1,\n                                  size=120,\n                                  face=\"bold\"),\n        plot.caption = element_text(lineheight = 0.4),\n        legend.position = \"bottom\",\n        legend.background = element_blank(),\n        legend.text = element_text(color=\"#f6f7f9\",\n                                   lineheight = 0.4),\n        plot.background = element_rect(color=\"grey50\",fill=\"grey50\"),\n        panel.background = element_rect(color=\"grey50\",fill=\"grey50\"))\nshowtext::showtext_end()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(map,\"day21_raster2.png\",\n       dpi=320,\n       bg=\"grey50\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}