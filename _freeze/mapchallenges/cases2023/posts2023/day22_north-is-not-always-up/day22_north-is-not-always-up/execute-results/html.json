{
  "hash": "c79f794bce9ce6820ee423738321d8a5",
  "result": {
    "markdown": "---\ntitle: 'North Is Not Always Up'\nsubtitle: 'Welcome to #30DayMapChallenge 2023 day 22'\ndate: '2023-11-22'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2023/day22_north-is-not-always-up/day22_north-is-not-always-up.png'\nimage-alt: ''\ndescription: ''\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n# Overview\n\n\n\n- Southern Country: `Australia`\n- Northern Countries: `Sweden`, `Finland`, and `Norway`\n\nThese countries are geographically located in the northern hemisphere. When comparing certain economic and social indicators, it's worth noting that the `southern country (Australia)` generally has a `higher GDP per capita`, `lower income inequality`, and other favorable social indicators compared to some of the `northern countries (Sweden, Finland, and Norway)`. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(WDI)\nlibrary(spData)\nlibrary(rworldmap)\nlibrary(sf)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncountries <- c(\"SWE\", \"FIN\", \"NOR\", \"AUS\")\nindicators <- c(\"NY.GDP.PCAP.CD\", \"SI.POV.GINI\", \"SE.ADT.LITR.ZS\", \"SH.XPD.CHEX.PC.CD\")\n\n# Retrieve data\ndata <- WDI(country = countries, \n            indicator = indicators, \n            start = 2019, end = 2019, extra = TRUE)\n\n# saveRDS(data,\"data/data.rds\")\ndata\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nworld_geo<- spData::world%>%\n  select(iso_a2,geom)\n\nall_data <- world_geo %>%\n  left_join(data,by=c(\"iso_a2\"=\"iso2c\"))%>%\n  mutate(gpd_country=paste0(NY.GDP.PCAP.CD,\",\",country))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mapview)\n#library(lwgeom)\n#lwgeom::\nlibrary(rnaturalearth)\n\nworld <- rnaturalearth::ne_countries(scale = 'small', returnclass = 'sf')\n\n# Fix polygons so they don't get cut in ortho projection\n\nworld  <-st_cast(world,'MULTILINESTRING') %>%\n  st_cast('LINESTRING', do_split=TRUE) %>%\n  mutate(npts = mapview::npts(geometry, by_feature = TRUE)) %>%\n  st_cast('POLYGON')\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# map\nggplot() +\n  geom_sf(data=world, color=\"gray80\",fill=NA) +\n  geom_sf(data=all_data,mapping=aes(fill=NY.GDP.PCAP.CD))+\n  coord_sf( crs= \"+proj=ortho +lat_0=20 +lon_0=-10\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsf::st_bbox(world)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsf::st_bbox(all_data)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntext=tibble(text=c(\"The southern country (Australia) generally has a higher GDP per capita, lower income inequality, and other favorable social indicators\\ncompared to some of the northern countries (Sweden, Finland, and Norway).\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  geom_sf(data=world, color=\"gray80\",fill=NA) +\n  geom_sf(data=all_data,mapping=aes(fill=factor(round(NY.GDP.PCAP.CD))))+\n  scale_fill_manual(\n    na.value = \"grey90\",\n    values = (viridis::inferno(4)),\n    na.translate = FALSE,\n    guide = guide_legend(reverse = TRUE)\n  ) +\n  scale_x_continuous(limits = c(-10,20))+\n  coord_sf(crs=\"ESRI:54030\",clip = \"off\")+\n  labs(fill=\"GDP per Capita US($)\",\n       title=\"North is not always up\",\n       subtitle=text$text,\n       caption=\"GDP per capita is gross domestic product divided by midyear population\\n\\n#30DayMapChallenge 2022 Day 22 North is not always up\\nDataSource: WorldBank DataBank - WDI 2019 data| Map: @fgazzelloni\")+\n  theme_bw(base_size = 14,base_family = \"Roboto Condensed\")+\n  theme(axis.text = element_text(color=\"red\"),\n        axis.title = element_blank(),\n        plot.title.position = \"plot\",\n        plot.title = element_text(hjust=1,face=\"bold\"),\n        plot.subtitle = element_text(size=8,hjust=0.5),\n        plot.caption = element_text(size=8,hjust = 0.5),\n        legend.key.size = unit(10,units = \"pt\"),\n        legend.text = element_text(size=9),\n        legend.title = element_text(size=10))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"day22_day22_north-is-not-always-up.png\",\n       width=8)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}