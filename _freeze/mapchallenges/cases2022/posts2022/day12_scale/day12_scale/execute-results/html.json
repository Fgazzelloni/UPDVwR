{
  "hash": "06a7a03656ce679ca5b73348408fd21b",
  "result": {
    "markdown": "---\ntitle: 'Scale'\nsubtitle: 'Welcome to #30DayMapChallenge 2022 day 12'\ndate: '2022-11-12'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2022/day12_scale/day12_scale.png'\nimage-alt: ''\ndescription: ''\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n# Overview\n\nThis is a static `leaflet` map of the `Atlantic Ocean Storms` in 2005.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(leaflet)\nhurricanecolors <- RColorBrewer::brewer.pal(12,\"Paired\")\n \n  leaflet(atlStorms2005) %>%\n  addTiles %>%\n  addPolylines(color = hurricanecolors,opacity=.8) %>%\n  addLegend(colors = rep(hurricanecolors,2),labels = atlStorms2005$Name,\n            title = \"Tropical Storms of 2005\",bins =24)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(leaflet)\nlibrary(leaflet.extras)\n# leaflet.extras::\nlibrary(leaflet.providers)\nleaflet.providers::get_providers()\nleaflet.providers::providers_loaded()\nleaflet.providers::use_providers(get_providers(\"1.4.0\"))\n\ndf <-atlStorms2005%>%as.data.frame()\ncentroids <- atlStorms2005%>%\n  st_as_sf()%>%\n  as.data.frame()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf2 <- atlStorms2005%>%\n  st_as_sf()%>%\n  st_centroid()%>%\n  st_coordinates()%>%\n  unique()%>%\n  cbind(df)%>%\n  mutate(X=as.numeric(X),Y=as.numeric(Y),\n         log_press=log10(MinPress),\n         MaxWind=as.numeric(MaxWind),\n         MinPress=as.numeric(MinPress))\n\nscaleBarOptions(\n  maxWidth = 100,\n  metric = TRUE,\n  imperial = TRUE,\n  updateWhenIdle = TRUE\n)\n\ndf2%>%\n  st_as_sf(coords=c(1,2))%>%\n  st_centroid()\n\n\npal <- leaflet::colorNumeric(palette = \"Y10rRd\",\n                             domain = df2$MaxWind)\nmap_leaflet <- leaflet(df2,\n        options = leafletOptions(zoomControl = FALSE,maxZoom = 10)) %>%\n  setView(lng =-47.4, lat =  39.75 , zoom = 10) %>%\n  addTiles() %>%\n  addProviderTiles(\"OpenTopoMap\") %>%\n  addPolylines(lng = ~X,lat = ~Y,\n               color = hurricanecolors,opacity=.8) %>%\n  addLegend(colors = rep(hurricanecolors,2),labels = atlStorms2005$Name,\n            title = \"Tropical Storms of 2005\",bins =24) %>%\n  addCircles(lng = ~X,lat=~Y,\n             radius = ~ MaxWind^log_press/10, \n             stroke = T,\n             weight = ~log_press^1,\n             color=\"navy\") %>%\n  addScaleBar( options = scaleBarOptions())%>%\n  addLegend(pal = pal, \n            values = ~MaxWind,\n            opacity = 0.5,\n            position = \"bottomright\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(htmlwidgets)\nlibrary(htmltools)\nsaveWidget(map_leaflet, file=\"day12_scale.html\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}