{
  "hash": "ac3c625304f8d67c4f5a60d63a86e1d0",
  "result": {
    "markdown": "---\ntitle: 'Colour Friday: Green'\nsubtitle: 'Welcome to #30DayMapChallenge 2022 day 4'\ndate: '2022-11-4'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2022/day4_color_friday_green/day4_color_friday_green.png'\nimage-alt: ''\ndescription: ''\ncategory: 'Rome, Italy'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n# Overview\n\nThis is a map of `Historic district of Rome`. \n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(osmdata)\nlibrary(mapdeck)\nlibrary(cowplot)\n\n# set the fonts\nlibrary(showtext)\nlibrary(sysfonts)\nlibrary(extrafont)\nshowtext::showtext_auto()\nshowtext::showtext_opts(dpi=320)\nfont_add_google(name=\"Island Moments\",\n                family=\"Island Moments\")\n\n\n\nms <- opq(c(12.4146,41.7836,12.5327,42.0064)) %>% \n  add_osm_feature (key = \"highway\") %>%\n  osmdata_sf (quiet = FALSE)\n\n# save(ms,file=\"data/ms.RData\")\n# mapdeck::set_token(\"your-token\") easy to get just register on the web-site mapbox.com\n# restrict the polygons to road access\nlines<- ms$osm_lines%>%filter(!is.na(access))\n# style: https://docs.mapbox.com/api/maps/styles/\n# fonts: curl \"https://api.mapbox.com/fonts/v1/fgazzelloni?access_token=pk.eyJ1IjoiZmdhenplbGxvbmkiLCJhIjoiY2w5enphdHR3MGtkMjN2bnZja2s1eWRuaCJ9.akYCOcUXC7OJ7PkF1JZ86A\n\n# make the map\nmapdeck(style = 'mapbox://styles/mapbox/navigation-night-v1',\n        location =  c(12.4924,41.8903),\n        padding=1,\n        zoom = 12) %>%\n  add_path(data = lines,\n           layer_id = \"ms\",\n           stroke_colour = \"#2e7521\",\n           stroke_width = 0,\n           stroke_opacity = 0,\n           tooltip = \"ROAD_NAME\",\n           auto_highlight = TRUE,\n           legend = FALSE,\n           update_view = FALSE) %>%\n  add_polygon(data = ms$osm_polygons,\n              layer_id = \"ms\",\n              stroke_colour = \"#6ced55\",\n              stroke_width = 20,\n              stroke_opacity = 200,\n              fill_opacity = 0,\n              update_view = FALSE) \n\n\n# draw the map\nggdraw()+\n  draw_image(\"base_map.png\")+\n  draw_label(\"#30DayMapChallenge 2022 Day 4: Color Friday Green | DataSource: osmdata Rome, Italy | Map: Federica Gazzelloni (@fgazzelloni)\",\n             x=0.5,y=0.02,size=7,\n             fontfamily = \"Island Moments\",\n             color=\"#6ced55\")+\n  labs(title=\"Historic district of Rome\") + \n  theme_bw()+\n  theme(plot.title = element_text(family=\"Island Moments\",face=\"bold\",color=\"#6ced55\"),\n        plot.background = element_rect(colour = \"#43605b\",fill = \"#43605b\"),\n        panel.background = element_rect(colour = \"#43605b\",fill = \"#43605b\")) \n \n\n# save it! \n# ggsave(\"day4_color_friday_green_2.png\",\n#        dpi=200,\n#        width = 8.86,\n#        height = 6.04)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}