{
  "hash": "f612d9b82d593ea9275a3d042f29afd0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Experimental'\nsubtitle: 'Welcome to #30DayChartChallenge 2021 day 6'\ndate: '2021-04-06'\nimage: 'day6_experimental.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# libraries --------------------\nlibrary(tidytuesdayR)\nlibrary(tidyverse)\n\n\n# load data and wrangling ----------------------------\n\ntuesdata <- tidytuesdayR::tt_load(2021, week = 15)\n\nforest <- tuesdata$forest\nforest_area <- tuesdata$forest_area\nbrazil_loss <- tuesdata$brazil_loss\nsoybean_use <- tuesdata$soybean_use\nvegetable_oil <- tuesdata$vegetable_oil\n\n\nsvdf <- merge(soybean_use,vegetable_oil,na.rm=T)\nmean(is.na(svdf))\nsvdf[is.na(svdf)]=0\n\n\nSoybean <- svdf %>% filter(crop_oil==\"Soybean\")%>%\n  group_by(year) %>% \n  summarize(avg_prod=mean(production))\n\npivot <- svdf %>%\n  pivot_longer(cols=c(4,5),names_to=\"name\",values_to=\"value\")%>%\n  filter(crop_oil==\"Soybean\")\n\ntapply(svdf$production,svdf$crop_oil,summary)\n\n# plotting --------------------------------------------\n\nlibrary(ggExtra)\nlibrary(xkcd)\nlibrary(ggstatsplot)\nlibrary(extrafont)\n\nxrange <- range(pivot$production)\nyrange <- range(pivot$value)\n\nexperiment_plot <- ggplot() +\n  geom_point(data=pivot, aes(x = production, y = value,fill=name),\n             size = 2, shape = 21, colour = \"black\" ) +\n  xkcdaxis(xrange,yrange) + \n  scale_x_continuous(labels = scales::label_number_si()) + \n  scale_y_continuous(labels = scales::label_number_si()) + \n  annotate(\"text\", x=19000000, y = 17478000,label = \"Animal feed\", family=\"xkcd\" )+\n  annotate(\"text\", x=24000000, y = 17478000,label = \"Human food\", family=\"xkcd\" )+\n  labs(title=\"Experimenting production of Soybean\",\n       subtitle = \"for Human food and Animal feed\",\n       caption = \"Viz federica gazzelloni - Datasource: Our World in data - Day6\") +\n  geom_hline(yintercept = 6000000, colour = \"black\", linetype = \"dashed\", size = 0.2) + \n  geom_vline(xintercept = 32000000, colour = \"black\", linetype = \"dashed\", size = 0.2) + \n  annotate(\"rect\", xmin = 32000000, xmax = 42845399, ymin = 6000000, ymax = 17478000, \n           alpha = .3) +\n  annotate(\"text\", x=35000000, y = 4000000,\n           label = \"A level of production of Soybean over 35M shows \\na change in trend directions to a higher level \\nof animal feed when compared with human food consumption.\",\n           family=\"xkcd\" ) +\n  theme_xkcd() + \n  theme(legend.position=\"top\",\n        legend.text = element_blank(),\n        legend.key = element_blank(),\n        legend.title = element_blank(),\n        plot.subtitle = element_text(size=10),\n        axis.text = element_text(family=\"Comic Sans MS\"),\n        axis.text.x = element_text(size=8,vjust = 0.2),\n        axis.text.y = element_text(size=8,hjust = 0.8),\n        axis.ticks = element_line())\n\n# save the plot ----------------------------\n\nragg::agg_png(here::here(\"day6\", \"Experiment_day6.png\"),\n              res = 320, width = 14, height = 8, units = \"in\")\nexperiment_plot\n\ndev.off()\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}