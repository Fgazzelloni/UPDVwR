{
  "hash": "54bdb5700195c50b3cadad697d3d9e62",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Educational'\nsubtitle: 'Welcome to #30DayChartChallenge 2021 day 27'\ndate: '2021-04-27'\nimage: 'day27_educational.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n### Educational day27\n\ndata : Our World in Data\nhttps://ourworldindata.org/educational-mobility-inequality\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(extrafont)\nlibrary(ggtext)\nlibrary(ggrepel)\nlibrary(ggExtra)\n\nlibrary(DataExplorer)\n#profile_missing(edu)\n\nedu_unlist<- unlist(read.csv(\"share-of-women-15-years-and-older-with-no-education.csv\"))\nedu<- read.csv(\"share-of-women-15-years-and-older-with-no-education.csv\")\nhead(edu)\nnames(edu)<-c(\"country\",\"code\",\"year\",\"percentage\")\nplyr::count(edu$country)\n\n\ndf <- edu%>%\n  group_by(country)%>%\n  mutate(abs_change=abs(c(0,diff(percentage))),\n         rel_change=ifelse(percentage==0,0,abs_change/percentage*100))%>%\n  ungroup()\n  \nabs_ch_70 <- edu%>%\n  group_by(country)%>%\n  filter(year==\"1970\")\n\nabs_ch_10 <- edu%>%\n  group_by(country)%>%\n  filter(year==\"2010\")\n\nabs_ch_70_10<- abs_ch_70%>%\n  inner_join(abs_ch_10,by=c(\"country\",\"code\"))%>%\n  mutate(abs_ch_70_10=percentage.y-percentage.x,\n         rel_ch_70_10=abs_ch_70_10/percentage.x*100)\n  \n\n##### plotting #################\n#font_info_google()\n#font_families()\nfont_add_google(\"Oxygen Mono\",family=\"Oxygen Mono\")\nshowtext_opts(dpi = 250)\nshowtext_auto(enable = TRUE)\n\nsquaredplot <-  ggplot(data=df,\n         mapping=aes(x=year,y=rel_change,group=country,color=country,fill=country)) + \n  geom_bin2d()+\n  geom_text_repel(aes(label=country),max.overlaps = 2,vjust=-1,size=6,\n                  nudge_x = 0.5,segment.colour = NA) +\n  labs(title=\"Girls Education\",\n       subtitle = \"relative change by country (1970 - 2010)\\n\",\n       caption=\"Viz. Federica Gazzelloni | Data: OurWorldinData | Educational Day27\",\n       tag=\"\\nWorld countries with the highest change\\n\")+\n  theme_void()+\n  ylim(c(0,1000))+\n  theme(legend.position = \"none\",\n        plot.tag = element_text(color=\"white\",size=18,family=\"Oxygen Mono\"),\n        plot.tag.position = c(0.2, 0.80),\n        plot.title = element_text(color=\"white\",size=40,family=\"Oxygen Mono\",face=\"bold\"),\n        plot.subtitle = element_text(color=\"white\",size=25,family=\"Oxygen Mono\"),\n        plot.caption = element_text(color=\"white\",family=\"Oxygen Mono\",size=10),\n        plot.background = element_rect(color=\"black\",fill=\"black\"),\n        panel.background = element_rect(color=\"black\",fill=\"black\"),\n        axis.text = element_text(color=\"white\",family=\"Oxygen Mono\"),\n        axis.text.x = element_text(color=\"white\",family=\"Oxygen Mono\",size=8),\n        axis.text.y = element_text(color=\"white\",family=\"Oxygen Mono\",size=8),\n        panel.grid = element_blank(),\n        plot.margin = margin(10,10,10,10))\n\n\nsquaredplot\n\n\n# saving ######################################\n\n\nragg::agg_png(here::here(\"day27_educational\", \"educational_day27.png\"),\n              res = 320, width = 14, height = 8, units = \"in\")\nsquaredplot\n\ndev.off()\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}