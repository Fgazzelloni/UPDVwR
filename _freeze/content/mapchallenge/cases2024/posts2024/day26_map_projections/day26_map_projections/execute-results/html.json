{
  "hash": "b8b2fbc7840cb5850faa059840e555f5",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Map Projections'\nsubtitle: 'Welcome to #30DayMapChallenge 2024 Day 26'\ndate: '2024-11-26'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day26_map_projections/day26_map_projections.png'\nimage-alt: 'day26_map_projections'\ndescription: 'Map Projections'\noutput: html_document\nexecute: \n   eval: false\n---\n\n![Map Projections](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day26_map_projections/day26_map_projections.png)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(giscoR)\nlibrary(patchwork)\nlibrary(showtext)\nfont_add_google(name = 'Cormorant Garamond', \n                family = 'Garamond')\nshowtext_auto()\n```\n:::\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#sf::sf_proj_info()%>%View\n```\n:::\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define common map projections\nprojections <- tibble::tibble(\n  proj_name = c(\"Mollweide\", \"Nicolosi Globular\", \n                \"Polyconic (American)\", \"Bonne (Werner lat_1=90)\", \n                \"Lambert Conformal Conic Alternative\",\"Van der Grinten \"),\n  crs = c(\n    \"+proj=moll +datum=WGS84\",\n    \"+proj=nicol +datum=WGS84\",\n    \"+proj=poly +datum=WGS84\",\n    \"+proj=bonne lat_1=90\",\n    \"+proj=lcca lat_0=90\",\n    \"+proj=vandg lat_0=90\"))\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprojections\n```\n:::\n\n\nSet the buffer for drawing the ocean.\n\n::: {.cell}\n\n```{.r .cell-code}\n# Define Earth radius and projection\nearth_radius <- 6371000  # 6,371 km radius of Earth\n# Step 1: Create an \"ocean\" layer (buffer around the Earth's center)\nocean <- st_point(c(0, 0)) %>%\n  st_sfc(crs = 4326) %>%   # Define as a spatial feature\n  st_buffer(dist = earth_radius) \n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n      geom_sf(data = st_transform(ocean,  \n                                  crs = \"+proj=moll +datum=WGS84\"),\n              fill = \"#1a8bac\", color = \"white\")\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create plots for each projection\nprojection_plots <- projections %>%\n  mutate(plot = purrr::map2(proj_name, crs, ~ {\n    ggplot() +\n      geom_sf(data = st_transform(ocean,  crs = .y),\n              fill = \"#1a8bac\", color = \"white\") +\n      geom_sf(data = st_transform(gisco_coastallines, crs = .y),\n              fill = \"#455936\", color = \"white\") +\n      coord_sf() +\n      labs(title = .x) +\n      ggthemes::theme_map() +\n      theme(text = element_text(family = \"Garamond\",\n                                color = \"gray40\"),,\n            plot.title = element_text(size = 16, \n                                      face = \"bold\", \n                                      hjust = 0.5),\n            plot.background = element_rect(fill = NA, \n                                           color = NA),\n            panel.background = element_rect(fill = NA, \n                                            color = NA),\n            axis.text = element_blank(),\n            axis.ticks = element_blank(),\n            panel.grid = element_blank()\n      )\n  }))\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprojection_plots\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noverview_plot <- wrap_plots(projection_plots$plot, ncol = 3) +\n  plot_annotation(title = \"Overview of Common Map Projections\",\n                  subtitle = \"Simple world map with various projections in R\",\n                  caption = \"Source: Natural Earth | Created with ggplot2\",\n                  theme = theme(text = element_text(family = \"Garamond\",\n                                                    color = \"gray40\"),\n                                plot.title = element_text(size = 50, \n                                                          face = \"bold\"),\n                                plot.subtitle = element_text(size = 34, \n                                                             color = \"gray40\")))\noverview_plot\n```\n:::\n\n\nCode for the final plot is locked. To unlock the code, please email: <fede.gazzelloni@gmail.com>\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}