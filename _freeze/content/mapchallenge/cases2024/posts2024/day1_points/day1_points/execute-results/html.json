{
  "hash": "129e61fc901693a1467672794c7cfebd",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Points'\nsubtitle: 'Welcome to #30DayMapChallenge 2024 Day 1'\ndate: '2024-11-01'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day1_points/day1_points.png'\nimage-alt: 'day1_points'\ndescription: 'Cropped Grid of Points on World Map'\noutput: html_document\nexecute: \n   eval: false\n---\n\n![Cropped Grid of Points on World Map](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day1_points/day1_points.png)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n\n# Load the world map as an sf object\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\") \n# Define the resolution of the grid (e.g., 5 degrees)\nresolution <- 3\n\n# Create a grid of longitude and latitude points\ngrid <- expand.grid(lon = seq(-180, 180, by = resolution), \n                    lat = seq(-90, 90, by = resolution))\n\n# Convert the grid to an sf object\ngrid_sf <- st_as_sf(grid, coords = c(\"lon\", \"lat\"), crs = 4326)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# It takes long time to run\n# Crop the grid points so that only points within the world map polygons remain\ngrid_cropped <- st_intersection(grid_sf, world)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggthemes)\nlibrary(ggspatial)\n# Plot\nmap <- ggplot() +\n  geom_sf(data = grid_cropped, \n          linetype = \"dotdash\",\n          shape = 21, \n          stroke = 0.2, \n          fill = NA) +\n  geom_sf(data = grid_cropped, \n          aes(color = sovereignt), \n          show.legend = F,\n          size = 0.3) +\n  scale_color_viridis_d(option = \"F\", \n                        begin = 0.1, \n                        end = 0.9) + # Adjusts color gradient for better contrast\n  coord_sf(crs = sf::st_crs(\"+proj=robin\")) +\n  ggthemes::theme_map() \nmap\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmap + \n  # add a north arrow\n  ggspatial::annotation_north_arrow(location = \"br\") +\n  # add a title and a caption\n  labs(title = \"Cropped Grid of Points on World Map\",\n       caption = \"Source: Natural Earth | #30DayMapChallenge 2024 Day1 | @fgazzelloni\") +\n  # adjust the appearance of the plot\n  theme(text = element_text(family = \"Courier\"),\n        plot.title = element_text(size = 16, color = \"grey20\", face = \"bold\"),\n        plot.caption = element_text(size = 8, color = \"grey20\", face = \"bold\"),\n        plot.background = element_rect(fill = NA, color = NA),\n        panel.background = element_rect(fill = NA, color = NA),\n        #panel.grid = element_line(color = \"grey90\"),\n        legend.position = \"none\")\n```\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}