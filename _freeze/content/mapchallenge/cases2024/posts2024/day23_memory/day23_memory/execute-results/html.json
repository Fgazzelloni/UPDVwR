{
  "hash": "e52c3b42048f7fa3f03361f35999cad9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Memory Map'\nsubtitle: 'Welcome to #30DayMapChallenge 2024 Day 23'\ndate: '2024-11-23'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day23_memory/day23_memory.png'\nimage-alt: 'day23_memory'\ndescription: 'Memory Map'\noutput: html_document\nexecute: \n   eval: false\n---\n\n![Memory Map](https://raw.githubusercontent.com/Fgazzelloni/30DayMapChallenge/master/2024/day23_memory/day23_memory.png)\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(ggtext)\nlibrary(rnaturalearth)\nlibrary(ggspatial)\nlibrary(showtext)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the world map\nworld <- ne_countries(scale = \"medium\", returnclass = \"sf\")\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmemories <- data.frame(\n  place = c(\"Home\", \n            \"Holiday\", \n            \"Job Abroad\", \n            \"Dream Vacation\"),\n  lon = c(12.4964, 2.1686, 0.1276, -74.006),\n  lat = c(41.9027, 41.3874, 51.5072, 40.7128)\n)\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert to sf object\nmemories_sf <- st_as_sf(memories, \n                        coords = c(\"lon\", \"lat\"), \n                        crs = 4326)\n```\n:::\n\n\nSet the fonts:\n\n::: {.cell}\n\n```{.r .cell-code}\nfont_add_google(name = 'Cormorant Garamond', \n                family = 'Garamond')\nshowtext_auto()\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot() +\n  # Base world map\n  geom_sf(data = world, \n          fill = alpha(\"antiquewhite\", alpha=0.5),\n          color = \"gray50\", \n          size = 0.3) +\n  # Highlight the journey locations\n  geom_sf(data = memories_sf, \n          aes(geometry = geometry), \n          color = \"darkred\", \n          size = 3) +\n  geom_text(data = memories,\n            aes(x = lon, y = lat, \n                label = place),\n            nudge_y = 2,\n            size = 15,\n            family = \"serif\",\n            color = \"darkred\") +\n  # Add a soft grid and latitude/longitude lines\n  coord_sf(ylim = c(20, 60), xlim = c(-90, 20),clip = \"off\") +\n  annotation_scale(location = \"bl\", \n                   width_hint = 0.3, \n                   text_col = \"gray30\") +\n  annotation_north_arrow(location = \"tr\", \n                         style = north_arrow_fancy_orienteering) +\n  labs(title = \"Memories\",\n       subtitle = \"Tracing the journey of cherished moments\",\n       caption = \"#30DayMapChallenge Day23 | @fgazzelloni\") +\n  ggthemes::theme_map() +\n  theme(text = element_text(family = \"Garamond\"),\n        plot.title = element_text(size = 160, \n                                  face = \"bold\", \n                                  hjust = 0.5, \n                                  color = \"darkred\"),\n        plot.subtitle = element_text(size = 60, \n                                     hjust = 0.5,\n                                     face = \"bold\",\n                                     color = \"gray40\"),\n        plot.caption = element_text(size = 40, \n                                    hjust = 0.5, \n                                    face = \"bold\",\n                                    color = \"gray40\"),\n        panel.background = element_rect(fill = \"bisque\", \n                                        color = NA),\n        plot.background = element_rect(fill = \"white\", \n                                       color = \"white\"),\n        legend.position = \"none\",\n        panel.grid.major = element_line(color = \"gray90\"))\n```\n:::\n\n\n\nSave the map as png:\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave('day23_memory.png', \n       height = 5, width = 8, \n       dpi = 300)\n```\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}