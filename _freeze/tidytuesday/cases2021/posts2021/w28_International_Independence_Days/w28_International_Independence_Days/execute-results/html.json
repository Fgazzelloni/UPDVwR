{
  "hash": "6fdb6af068a918e2aa26ab83fa451f7c",
  "result": {
    "markdown": "---\ntitle: \"International Independence Days\"\nsubtitle: \"Welcome to TidyTuesday 2021 week 28\"\ndate: \"2021-07-06\"\nimage: \"w28_independence_days.png\"\nimage-alt: \"\"\ndescription: \"Networks\"\noutput: html_document\nexecute: \n  eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2021, week = 28)\n\nholidays <- tuesdata$holidays\nnames(holidays)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(maps)\nlibrary(sf)\n\nmaps::map(\"world\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nworld <- sf::st_as_sf(map(\"world\",plot=FALSE,fill=TRUE))\nworld <- cbind(world, sf::st_coordinates(sf::st_centroid(world)))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nholidays_map <- holidays %>%\n  filter(str_detect(name_of_holiday,\"(?i)inde\"))%>%\n  left_join(world, by=c(\"country\"=\"ID\")) %>%\n  select(country,date_parsed,name_of_holiday,independence_from,X,Y)%>%\n  mutate(country=as.factor(country))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(showtext)\nlibrary(extrafont)\nshowtext.auto(enable=FALSE)\n```\n:::\n\n\n\"#EEE9E9\" \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmapdata <- ggplot2::map_data(\"world\") %>%\n  filter(!region==c(\"Antartica\",\"Greenland\",\"French Southern and Antartic Lands\")) %>%\n  mutate(region=recode(region, \n                       USA=\"United States\",\n                       UK=\"United Kingdom\"))\n           \n\nfinal_plot <- ggplot() +\n  geom_map(data=mapdata,map = mapdata,aes(map_id=region),fill= \"#F0F8FF\",color= \"#FAEBD7\")+\n  geom_point(data=world,aes(x=X,y=Y),size=1,color=\"grey\",alpha=0.3)+\n  geom_point(data=holidays_map,aes(x=X,y=Y),size=0.5,color=\"black\")+\n  geom_text(data=holidays_map,aes(x=X,y=Y,label=country),family=\"Andalus\",\n                            check_overlap = TRUE,size=1.5,color=\"#363636\",hjust=0,vjust=0)+ #\n  geom_text(data=holidays_map,aes(x=X,y=Y,label=date_parsed),\n            family=\"Andalus\", check_overlap = TRUE,size=0.8,\n            color=\"#CD1076\",vjust=0.8,hjust=-1)+\n  expand_limits(x=mapdata$long,y=mapdata$lat)+\n  coord_map(projection = \"mercator\",xlim=c(-180,180)) +\n  labs(title=\"Date parsed: Independent Days celebrating Countries\",\n       caption= \"DataViz: @fgazzelloni, DataSource: International Independence Days,\tWikipedia,WorldAtlas.com - #TidyTuesday w28\")+\n  guides(fill=\"none\") +\n  ggthemes::theme_map()+\n    theme(axis.text = element_blank(),\n          plot.background = element_rect(fill=\"#C5E5F0\",color=\"#E0EEEE\"),\n          plot.title = element_text(color=\"#363636\",family=\"Andalus\",size=18,face=\"bold\"),\n          plot.caption = element_text(size=10))\n\n\n\nfinal_plot\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n###################### SAVING ############################\n\n\nragg::agg_png(here::here(\"w28\",\"w28_independence_days.png\"),\n              res = 320, width = 14, height = 8, units = \"in\")\nfinal_plot\n\ndev.off()\n\n##################################################\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}