{
  "hash": "fba6f2fe21fe4996e9d07b83431a9e28",
  "result": {
    "markdown": "---\ntitle: 'Spice Girls'\nsubtitle: 'Welcome to TidyTuesday 2021 week 51'\ndate: '2021-12-14'\nimage: 'w51_spice_girls.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nstudio_album_tracks <- readr::read_csv(\"https://github.com/jacquietran/spice_girls_data/raw/main/data/studio_album_tracks.csv\")\n\n\nstudio_album_tracks%>%select(contains(\"key\"))%>%distinct()%>%arrange(key)\n\ndf<-studio_album_tracks%>%select(danceability,\n                                 year=album_release_year,\n                                 #mode,\n                                 energy,\n                                 loudness,\n                                 speechiness,\n                                 acousticness,\n                                 instrumentalness,\n                                 liveness,valence,duration_ms,tempo)\n\nugly <- ggthemr::define_palette(\n  swatch = c('black', 'red', 'green', 'blue', 'brown', 'purple', 'yellow'), \n  gradient = c(lower = 'red', upper = 'green')\n)\n\nggthemr::ggthemr(ugly)\n\nlibrary(extrafont)\nloadfonts()\nfamily=\"Impact\"\n\nviolins<-df%>%\n  select(-year,-instrumentalness)%>%\n  #recipe()%>%\n  #step_normalize(all_numeric())\n  scale()%>%as.data.frame()%>%mutate(year=df$year)%>%\n  #mutate(duration_ms=duration_ms/sum(duration_ms))%>%#count(duration_ms)\n  pivot_longer(cols=c(1:8),names_to=\"variables\",values_to=\"values\")%>%\n  #pull(values)%>%summary()\n  mutate(variables=tools::toTitleCase(variables),\n         variables=case_when(variables==\"Duration_ms\"~\"Duration in ms\",\n                             TRUE~variables))%>%\n  #mutate(across(variables, factor, levels=c(\"\")\n  ggplot(aes(x=factor(year),y=values,fill=variables))+\n  geom_boxplot(alpha=0.7)+\n  geom_violin(alpha=0.5)+\n  geom_point(color=\"gold\",size=0.2)+\n  facet_wrap(vars(variables),scales=\"free\",nrow = 2)+\n  scale_fill_brewer(type = \"seq\", palette = \"Spectral\")+\n  guides(fill=\"none\")+\n  labs(x=\"\",title=\"\")+\n  theme(text = element_text(family=family),\n        axis.title.y = element_blank(),\n        plot.background = element_blank(),\n        panel.background = element_blank(),\n        panel.grid = element_line(size=0.3),\n        strip.text = element_text(color=\"hotpink\",size=12),\n        strip.background = element_rect(color=\"black\",fill=\"black\"),\n        axis.line = element_line(color=\"hotpink\",size=2),\n        axis.text.x = element_text(color=\"gold\",size=10),\n        axis.text.y = element_text(color=\"darkolivegreen2\",size=10))\n\n#violins\nbg<-ggplot()+\n  geom_blank()+\n  theme_void()+\n  theme(plot.background = element_rect(color=\"black\",fill=\"black\"))\n\nlibrary(cowplot)\n\nfinal<-ggdraw()+\n  draw_plot(bg)+\n  draw_image(\"w51/spice_bg.png\",scale = 1,\n             y=0.2) +\n # draw_image(\"w51/spices_image.jpg\",scale = 1.2) +\n            # scale=0.4,x=0.25,y=-0.28)+\n  draw_plot(violins,height = 0.55,y=-0.04)+\n  draw_label(\"What Makes a Song Likeable?\",\n             x=0.5,y=0.95,size=42,color=\"gold\",\n             fontfamily = family,fontface = \"bold\")+\n  draw_label(\"What Makes a Song Likeable?\",\n             x=0.5,y=0.95,size=41,color=\"hotpink\",\n             fontfamily = family,fontface = \"bold\")+\n  draw_label(\"DataViz: Federica Gazzelloni\",\n             angle=90,size=9,x=0.02,y=0.8,\n             fontfamily=family)+\n  draw_label(\"DataSource: Spice Girls by Jacquie Tran\",\n             angle=0,size=9,x=0.8,y=0.49,\n             fontfamily=family)+\n  \n  draw_label(\"1996\",\n             angle=15,size=25,x=0.5,y=0.87,\n             fontfamily=family)+\n  draw_label(\"1997\",\n             angle=15,size=23,x=0.65,y=0.83,\n             fontfamily=family)+\n  draw_label(\"2000\",\n             angle=15,size=27,x=0.8,y=0.85,\n             fontfamily=family)+\n  \n  \n  draw_label(\"1996\",color=\"white\",\n             angle=15,size=24,x=0.5,y=0.87,\n             fontfamily=family)+\n  draw_label(\"1997\",color=\"white\",\n             angle=15,size=22,x=0.65,y=0.83,\n             fontfamily=family)+\n  draw_label(\"2000\",color=\"white\",\n             angle=15,size=26,x=0.8,y=0.85,\n             fontfamily=family) +\n  draw_label(\"scaled values\",color=\"white\",\n             angle=0,size=6,x=0.96,y=0.46,\n             fontfamily=family)\n\n\n####### SAVING ######################################\nragg::agg_png(here::here(\"w51/spicegirls.png\"),\n              res = 320, width = 8, height = 8, units = \"in\")\nfinal\n\ndev.off()\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}