{
  "hash": "0d64f3f6654b420fa782ad2985e4ab24",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Premier League Match Data'\nsubtitle: 'Welcome to TidyTuesday 2023 week 14'\ndate: '2023-04-04'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/TidyTuesday/main/data/2023/w14_PLMD/w14_PLMD.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n> To cite Federica's work, please use: Gazzelloni F., 2023 Data Visualization Premier League Match Data Correlation\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\ntuesdata <- tidytuesdayR::tt_load(2023, week = 14)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- tuesdata$`soccer21-22`\ndf%>%head\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf%>%\n  mutate(Date=as.Date(Date,\"%d/%m/%Y\"),\n         year=zoo::as.yearmon(Date),.after=Date)%>%\n  count(year)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_corr <- df[,11:22]\ndf_corr%>%head()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_named <- df[,11:22] %>%\n  rename(\"HomeShots\"=HS,\n         \"AwayShots\"=AS,\n         \"HomeShots-on-Target\"=HST,\n         \"AwayShots-on-Target\"=AST,\n         \"HomeFouls\"=HF,\n         \"AwayFouls\"=AF,\n         \"HomeCorners\"=HC,\n         \"AwayCorners\"=AC,\n         \"HomeYellowCards\"=HY,\n         \"AwayYellowCards\"=AY,\n         \"HomeRedCards\"=HR,\n         \"AwayRedCards\"=AR)\n\ndf_named%>%head\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Quick display of two cabapilities of GGally, to assess the distribution and correlation of variables \nlibrary(GGally)\n\n \n# Nice visualization of correlations\nggcorr(df_named, #df[,11:22], \n       method = c(\"pairwise\"),\n       geom=\"circle\",\n       max_size = 15,\n       min_size = 5,\n       family=\"Roboto Condensed\",\n       nbreaks = 6,\n       angle = 0,\n       palette = \"Paired\",\n       hjust = 1, \n       size = 4, \n       color = \"grey50\",\n       #low = \"green\",\n       #mid = \"#EEEEEE\",\n       #high = \"#F21A00\",\n       layout.exp = 1,\n       name = expression(rho))+\n  geom_point(size = 10, aes(color = coefficient > 0, \n                            alpha = abs(coefficient) > 0.5)) +\n  scale_alpha_manual(values = c(\"TRUE\" = 0.25, \"FALSE\" = 0)) +\n  guides(alpha = FALSE)+\n  labs(caption=\"Correlation for home and away side such as fouls, shots, cards\\nDataSource: #TidyTuesday 2023 w14 Premier League Match Data\\n#30daychartchallenge day20 Correlation | DataViz: Federica Gazzelloni\") +\n  annotate(geom = \"text\",\n           family=\"Roboto Condensed\",\n           fontface=\"bold\",\n           label=\"Premier League\\nMatch\\n2021-2022\",\n           size=14,\n           color=\"#a8bd3a\",\n           hjust=0,\n           x = 0 ,y =c(10) )+\n  theme(text=element_text(family=\"Roboto Condensed\"),\n        plot.caption = element_text(size=12,vjust = 1),\n        plot.margin = margin(0,0,0,0, \"pt\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"corr.png\",width = 9,height = 6)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}