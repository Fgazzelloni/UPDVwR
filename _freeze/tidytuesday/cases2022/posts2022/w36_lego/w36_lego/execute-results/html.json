{
  "hash": "4394fa6b5dc6b6f0bbed7b5ed334028f",
  "result": {
    "markdown": "---\ntitle: 'LEGO database'\nsubtitle: 'Welcome to TidyTuesday 2022 week 36'\ndate: '2022-09-06'\nimage: \"w36_lego.png\"\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ninventories <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-09-06/inventories.csv.gz')\ninventory_sets <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-09-06/inventory_sets.csv.gz')\nsets <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-09-06/sets.csv.gz')\n\nall_df <- left_join(inventories, inventory_sets, by = \"set_num\") %>%\n  left_join(sets, by = \"set_num\") \n\n\nall_df %>%\n  ggplot(aes(x = num_parts)) +\n  geom_density() +\n  scale_x_log10()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nall_df %>%\n  DataExplorer::profile_missing()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- all_df%>%\n  arrange(year) %>%\n  count(num_parts,year,version) %>%\n  mutate(version=as.factor(version)) %>% # year=as.factor(year),\n  group_by(year,version) %>%\n  summarise(pct_parts=sum(num_parts),.groups=\"drop\") %>%\n  ungroup() \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# library(systemfonts)\n# fonts <- system_fonts()\n# fonts%>%\n#   arrange(family)%>%\n#   filter(family==\"Legothick\")\n\n\nlegofont <- systemfonts::register_font(name=\"LEGothicType\",\n                                       plain=\"/Library/Fonts/Legothick.ttf\")\n\n\n\ndf %>%\n  ggplot(aes(year,factor(pct_parts),fill=version,color=version))+\n  geom_bin2d(size=0.5,bins=20,show.legend = F)+ \n  labs(title=\"\\nLEGO\")+\n  theme_void() +\n  theme(text=element_text(family=\"LEGothicType\"),\n        plot.title = element_text(size=40,hjust=0.5),\n        plot.subtitle = element_text(family=\"Roboto Condensed\"),\n        axis.text.x = element_text(color=\"grey40\",vjust=0),\n        #axis.text.y = element_text(color=\"orange\"),\n        legend.position = c(0.5,0.5),\n        legend.direction = \"horizontal\",\n        legend.text = element_text(family=\"Roboto Condensed\"),\n        legend.title = element_text(family=\"Roboto Condensed\"),\n        plot.margin = margin(5,5,5,5,unit = \"pt\"),\n        plot.background = element_rect(fill = \"red\",color = \"red\")) \n\n  \nggsave(\"w36_lego.png\",\n       dpi=320,\n       width = 8,\n       height = 6)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}