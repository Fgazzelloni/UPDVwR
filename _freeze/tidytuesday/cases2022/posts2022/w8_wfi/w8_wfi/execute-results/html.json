{
  "hash": "6ed027bf40966e5073f8a5c75c154bbf",
  "result": {
    "markdown": "---\ntitle: 'World Freedom index'\nsubtitle: 'Welcome to TidyTuesday 2022 week 8'\ndate: '2022-12-20'\nimage: \"w8_wifi.png\"\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nfreedom <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-02-22/freedom.csv')\nhead(freedom);names(freedom)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfreedom1 <- freedom %>% \n  mutate(country=case_when(country==\"Bolivia (Plurinational State of)\"~\"Bolivia\",\n                           country==\"CÃƒÂ´te dÃ¢â‚¬â„¢Ivoire\"~\"Ivory Coast\",\n                           country==\"United Kingdom of Great Britain and Northern Ireland\"~\"United Kingdom\",\n                           country==\"Congo\"~\"Republic of Congo\",\n                           country==\"Russian Federation\"~\"Russia\",\n                           country==\"Brunei Darussalam\"~\"Brunei\",\n                           country==\"Venezuela (Bolivarian Republic of)\"~\"Venezuela\",\n                           country==\"Lao People's Democratic Republic\"~\"Laos\",\n                           country==\"Viet Nam\"~\"Vietnam\",\n                           country==\"Bahamas\"~\"The Bahamas\",\n                           country==\"Guinea-Bissau\"~\"Guinea Bissau\",\n                           country==\"Serbia\"~\"Republic of Serbia\",\n                           country==\"North Macedonia\"~\"Macedonia\",\n                           country==\"Czechia\"~\"Czech Republic\",\n                           country==\"Timor-Leste\"~\"East Timor\",\n                           country==\"Syrian Arab Republic\"~\"Syria\",\n                           country==\"Iran (Islamic Republic of)\"~\"Iran\",\n                           country==\"Republic of Moldova\"~\"Moldova\",\n                           country==\"Democratic People's Republic of Korea\"~\"North Korea\",\n                           country==\"Republic of Korea\"~\"South Korea\",\n                           TRUE ~ country))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nworld <- rnaturalearth::ne_countries(type=\"countries\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nw_countries <- world%>%\n  as.data.frame()%>%\n  count(sovereignt)%>%\n  select(-n)%>%\n  unlist()\n\nmy_countries <- freedom1%>%\n  count(country)%>%\n  select(-n)%>%\n  unlist()\n\n\nsetdiff(w_countries,my_countries)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(rnaturalearth)\nlibrary(sf)\nworld1 <- ne_countries(scale=110,type=\"countries\",\n            returnclass=\"sf\")\n\nworld12 <- world1%>%\n  as.data.frame()%>%\n  select(country=sovereignt,geometry)%>%\n  filter(!country==\"Antarctica\")\n\nfreedom12 <- freedom1%>%\n  left_join(world12,by=\"country\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(showtext)\nshowtext::showtext_auto()\nshowtext::showtext_opts(dpi=320)\nlibrary(sysfonts)\nsysfonts::font_families_google()\nsysfonts::font_add_google(\"Junge\",\"Junge\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlast_plot <- ggplot()+\n  geom_sf(data = world12,mapping=aes(geometry=geometry),size=0.05)+\n  geom_sf(data=freedom12,mapping=aes(geometry=geometry,fill=factor(Status)),size=0.1)+\n  scale_fill_viridis_d(labels=c(\"Free\",\"Not Free\",\"Partially Free\")) +\n  labs(fill=\"Status\",title=\"Freedom in the World 1995-2020\",\n       caption=\"Freedom House and the United Nations by way of Arthur Cheib | Viz: Federica Gazzelloni\\n #TidyTuesday 2022/08\")+\n  coord_sf()+\n  facet_wrap(vars(year))+\n  ggthemes::theme_map()+\n  theme(text = element_text(family=\"Junge\"),\n        plot.title.position = \"panel\",\n        plot.title = element_text(size=14),\n        plot.caption = element_text(size=4),\n        plot.background = element_rect(fill=\"beige\",color=\"beige\"),\n        panel.background = element_rect(fill=\"beige\",color=\"beige\"),\n        legend.position = c(0.05,-0.1),\n        legend.direction = \"horizontal\",\n        legend.box.background = element_rect(fill=\"beige\",color=\"beige\"),\n        legend.background = element_rect(fill=\"beige\",color=\"beige\"),\n        legend.key.size = unit(0.2, 'cm'), #change legend key size\n        legend.key.height = unit(0.2, 'cm'), #change legend key height\n        legend.key.width = unit(0.2, 'cm'), #change legend key width\n        legend.title = element_text(size=4), #change legend title font size\n        legend.text = element_text(size=4),\n        strip.background = element_blank(),\n        strip.text = element_text(size=4))\n```\n:::\n\n::: {.cell paged.print='false'}\n\n```{.r .cell-code}\nlibrary(cowplot)\nggdraw()+\n  draw_plot(last_plot)+\n  draw_label(\"Political rights and civil liberties around the world deteriorated to their\\n lowest point in more than a decade in 2017, extending a period characterized by emboldened\\n autocrats, beleaguered democracies, and the United States’ withdrawal from its leadership\\n role in the global struggle for human freedom. #FreedomHouse\",\n             x=0.66,y=0.225,fontfamily=\"Junge\",size=4)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"freedom.png\",limitsize = FALSE,\n       height = 1000,  width = 1350, \n       units = \"px\", dpi = 320)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}