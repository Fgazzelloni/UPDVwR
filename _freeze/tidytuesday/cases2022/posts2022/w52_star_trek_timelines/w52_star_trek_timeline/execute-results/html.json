{
  "hash": "7e239ac436b67436c57ea999158a2984",
  "result": {
    "markdown": "---\ntitle: 'Star Trek Timelines'\nsubtitle: 'Welcome to TidyTuesday 2022 week 52'\ndate: '2022-12-27'\nimage: \"w52_star_trek_timeline.png\"\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n\n\n\n\n\nLoad the libraries\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2022, week = 52)\ntlBooks <- tuesdata$tlBooks\ntlFootnotes<-tuesdata$tlFootnotes\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntlBooks%>%names\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntlFootnotes%>%names\n```\n:::\n\n\nJoin the two sets by `footnote`\n\nThe new dataset combines, year, title, ... with the footnote of the `Star Trek Timelines`.\nThe data comes from the {rtrek} package by Georgios Karamanis.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- tlBooks %>%\n  inner_join(tlFootnotes,by=\"footnote\")\n\ndf%>%DataExplorer::profile_missing()%>%arrange(pct_missing)\n```\n:::\n\n\n## How to make a `Waffle`\n\nThis is a little example from: [https://r-charts.com/part-whole/waffle-chart-ggplot2/](https://r-charts.com/part-whole/waffle-chart-ggplot2/)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"waffle\", repos = \"https://cinc.rud.is\")\nlibrary(waffle)\n\n# Vector\nx <- c(30, 25, 20, 5)\n\n# Waffle chart\nwaffle(x, rows = 8)\n```\n:::\n\n\n\nIn this dataset there are three formats: book, episode and story\n\n::: {.cell}\n\n```{.r .cell-code}\ndf%>%\n  count(format)%>%\n  waffle(rows=20)\n```\n:::\n\n\n### Using `ggplot2`\n\nThis `Waffle` is made of 12 different colors for identifying the `SSeries`. Here are used many colors from the `trekcolors` package for coloring the `series` of different colors. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"trekcolors\")\nlibrary(trekcolors)\n# trekcolors::lcars_colors()\n```\n:::\n\n\n\nThe fonts are from the `trekfont` package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"trekfont\")\nlibrary(trekfont)\n# trekfont::show_trekfonts()\nlibrary(showtext)\nfont <- c(\"Khan\", \"StarNext\", \"FederationDS9Title\", \"Federation\", \"Klingon\", \"ModernVulcan\", \"TNGcast\", \"FederationStarfleet\")\npath <- system.file(paste0(\"fonts/\", font, \".ttf\"), package = \"trekfont\")\nfor(i in seq_along(font)) font_add(font[i], path[i])\nfont_families()\nshowtext_auto(enable = TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(waffle)\ndf%>%\n  count(series)%>%\n  drop_na()%>%\n  waffle(rows = 20, size = 0.5)+\n  scale_fill_manual(values =as.character(lcars_colors())) +\n  # Waffle plot\n  #ggplot(aes(fill = series, values = n)) +\n  #geom_waffle(n_rows = 20, size = 0.5, colour = \"white\") +\n  #scale_fill_manual(values =as.character(lcars_colors())) +\n  coord_equal() +\n  scale_x_continuous(expand = c(0, 0))+\n  labs(title=\"Star Trek Timelines Series\",\n       subtitle = \"\",\n       caption=\"DataSource: #TidyTuesday 2022 week52 - Star Trek Timelines\\nDataViz: Federica Gazzelloni #30DayChartChallenge 2023 Day2 - Waffle\\n\")+\n  theme_void()+\n  theme(text = element_text(family= \"StarNext\",size=14),\n        #legend.position = \"bottom\",\n        plot.title = element_text(size=50,hjust = 0.3,vjust = 0),\n        plot.caption = element_text(size=20,hjust = 0.4,family=\"FederationDS9Title\"),\n        panel.background = element_rect(fill=\"#9977AA\",color=\"#9977AA\"),\n        plot.background = element_rect(fill=\"#9977AA\",color=\"#9977AA\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggsave(\"ss.png\",\n       width = 6,height = 5.5,\n       bg=\"#9977AA\",\n       dpi=200)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}