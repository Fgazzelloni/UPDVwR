{
  "hash": "d5ed22a168fe41a790adea0ff658c71e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Stranger things dialogue'\nsubtitle: 'Welcome to #TidyTuesday 2022 day 42'\ndate: '2022-10-18'\nimage: 'https://raw.githubusercontent.com/Fgazzelloni/TidyTuesday/main/data/2022/w42_stranger_things_dialogue/w42_stranger_things_dialogue.png'\nimage-alt: ''\ndescription: 'Networks'\noutput: html_document\nexecute: \n   eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(sysfonts)\nlibrary(extrafont)\nlibrary(ggridges)\nlibrary(cowplot)\n\n\n# set the fonts\nshowtext::showtext_auto()\nshowtext::showtext_opts(dpi=320)\nfont.add(family = \"Benguiat\",regular=\"Benguiat Normal.ttf\")\n\n\n\n\n\nepisodes_raw <- read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-10-18/stranger_things_all_dialogue.csv')\n\ndf <-\n  episodes_raw %>%\n  filter(!is.na(dialogue)) %>%\n  mutate(season = paste(\"Season\", season)) %>%\n  select(season,episode,start_time,end_time,dialogue) %>%\n  mutate(time = end_time-start_time,\n         time = as.numeric(time),\n         trims = trimws(dialogue),\n         space = sapply(strsplit(trims, \" \"), length)) %>% #pull(time)%>%summary()\n  filter(time > 1) %>%\n  mutate(velocity = space/(time/60)) %>%\n  mutate(time_s=time,\n         time = time/60)\n  \n  \n\np <- df %>%\n  group_by(season,episode)%>%\n  mutate(velocity=mean(velocity))%>%\n  ungroup()%>%\n  ggplot(aes(x = velocity,y = fct_reorder(factor(episode),desc(episode)),\n             fill = 0.5 - abs(0.5 - stat(ecdf)))) +\n  ggridges::stat_density_ridges(geom = \"density_ridges_gradient\", calc_ecdf = TRUE, alpha=0.5) +\n  scale_fill_viridis_c(name = \"Speed wpm\", option = \"A\",labels = scales::percent) +\n  scale_x_continuous(expand = c(0,0)) +\n  labs(title=\"All seasons episodes\",\n       caption=\"DataSource: #TidyTuesday 2022 week 42 by Stranger things dialogue | DataViz: Federica Gazzelloni (@fgazzelloni)\",\n       x=\"Dialogue speech speed (wpm)\",y=\"Episode\")+\n  ggridges::theme_ridges()+\n  theme(text=element_text(color=\"grey90\",family=\"Benguiat\"),\n        axis.text.x = element_text(color=\"grey90\",size=9),\n        axis.text.y = element_text(color=\"grey90\",size=9),\n        plot.margin = margin(10,10,10,10,unit = \"pt\"),\n        plot.title = element_text(size=12,hjust = 0.03),\n        plot.title.position = \"panel\",\n        plot.subtitle = element_text(color=\"grey90\"),\n        plot.caption = element_text(size=10),\n        plot.caption.position = \"plot\",\n        plot.background = element_rect(color=\"grey10\",fill=\"grey10\"),\n        panel.background = element_rect(color=\"grey10\",fill=\"grey10\"),\n        strip.background = element_blank(),\n        legend.text = element_text(size=9),\n        legend.title = element_text(size=8))\n\nggsave(\"p.png\",dpi=400,width = 8,height = 4)\n\np1 <- ggplot(df, \n             aes(x = time, y = velocity,group=space)) +\n  geom_jitter(aes(color=factor(season)),\n              size=0.2,\n              alpha=0.3)+\n  geom_line(aes(color=factor(season)),\n            size=0.2,\n            alpha=0.5) +\n  scale_y_continuous(expand = c(0,0)) +\n  scale_color_viridis_d(option = \"A\")+\n  labs(title = \"Talking fast slows down as time increases\\n\",\n       y = \"Speed (wpm)\", x = \"Time in minutes\")+\n  ggridges::theme_ridges()+\n  theme(text=element_text(color=\"grey90\",size=14,family=\"Benguiat\"),\n        axis.text.x = element_text(color=\"grey90\"),\n        axis.text.y = element_text(color=\"grey90\"),\n        axis.line = element_line(color=\"grey90\",\n                                 arrow = arrow(type='closed', \n                                               length = unit(10,'pt'))),\n        panel.grid.major = element_line(color=\"grey60\",size=0.1,linetype = \"dashed\"),\n        plot.margin = margin(10,10,10,10,unit = \"pt\"),\n        plot.subtitle = element_text(color=\"grey90\"),\n        plot.caption = element_text(size=11),\n        plot.background = element_rect(color=\"grey10\",fill=\"grey10\"),\n        panel.background = element_rect(color=\"grey10\",fill=\"grey10\"),\n        strip.background = element_blank(),\n        legend.position = \"none\")\n\n\n\nggsave(\"p1.png\",dpi=300,width = 9,height = 4)\n\n\ncowplot::ggdraw()+\n  draw_image(\"p.png\",scale=0.93,x=-0.02,y=-0.22)+\n  draw_image(\"p1.png\",scale=0.7, y=0.22,x=-0.13)+\n  draw_image(\"logo.png\",scale = 0.2,y=0,x=0.4)+\n  draw_label(\"Stranger things...on dialogue's speed\", \n             fontfamily = \"Benguiat\",\n             x=0.4,y=0.95,\n             size=25,\n             color=\"grey90\")+\n  draw_label(\"wpm = word/per minutes\\n\\nWord Speed:\\nnumber of words\\ndivided by time difference\\nfrom end to start\\n\\nAvg 2.5 words per second\\n\\n\\nSlow: less than 110 wpm\\nConversational: 120 - 150 wpm\\nFast: more than 160 wpm\",\n             x=0.96,y=0.74,color=\"grey90\",\n             hjust = 1,\n             size=9,\n             lineheight = 1.5,\n             fontfamily = \"Benguiat\")+\n  theme(plot.background = element_rect(fill=\"grey10\", color = \"grey10\"))\n\n\n\nggsave(\"w42_stranger_things_dialogue.png\",\n       dpi=200,\n       width = 14,\n       height = 12)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}